(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{7025:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});var n=i(2265);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),o=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.forwardRef)((e,t)=>{let{color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:h,iconNode:d,...p}=e;return(0,n.createElement)("svg",{ref:t,...u,width:r,height:r,stroke:i,strokeWidth:o?24*Number(s)/Number(r):s,className:a("lucide",c),...!h&&!l(p)&&{"aria-hidden":"true"},...p},[...d.map(e=>{let[t,i]=e;return(0,n.createElement)(t,i)}),...Array.isArray(h)?h:[h]])}),h=((e,t)=>{let i=(0,n.forwardRef)((i,s)=>{let{className:l,...u}=i;return(0,n.createElement)(c,{ref:s,iconNode:t,className:a("lucide-".concat(r(o(e))),"lucide-".concat(e),l),...u})});return i.displayName=o(e),i})("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6463:function(e,t,i){"use strict";var n=i(1169);i.o(n,"usePathname")&&i.d(t,{usePathname:function(){return n.usePathname}}),i.o(n,"useRouter")&&i.d(t,{useRouter:function(){return n.useRouter}}),i.o(n,"useSearchParams")&&i.d(t,{useSearchParams:function(){return n.useSearchParams}})},357:function(e,t,i){"use strict";var n,r;e.exports=(null==(n=i.g.process)?void 0:n.env)&&"object"==typeof(null==(r=i.g.process)?void 0:r.env)?i.g.process:i(8081)},9189:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return i}});let i="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6810:function(){},8081:function(e){!function(){var t={229:function(e){var t,i,n,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l=[],u=!1,c=-1;function h(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new p(e,t)),1!==l.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var s=i[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete i[e]}return s.exports}n.ab="//";var r=n(229);e.exports=r}()},2477:function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){u(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,s=[],o=!0,a=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw r}}return s}}(e,t)||d(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function f(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=d(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}i.d(t,{ZP:function(){return rc}});var v={DEBUG:!1,LIB_VERSION:"1.160.0"},g=Array.isArray,m=Object.prototype,y=m.hasOwnProperty,_=m.toString,b=g||function(e){return"[object Array]"===_.call(e)},w=function(e){return"function"==typeof e},k=function(e){return e===Object(e)&&!b(e)},S=function(e){if(k(e)){for(var t in e)if(y.call(e,t))return!1;return!0}return!1},x=function(e){return void 0===e},E=function(e){return"[object String]"==_.call(e)},T=function(e){return E(e)&&0===e.trim().length},P=function(e){return null===e},R=function(e){return x(e)||P(e)},F=function(e){return"[object Number]"==_.call(e)},A=function(e){return"[object Boolean]"===_.call(e)},C="undefined"!=typeof window?window:void 0,I="undefined"!=typeof globalThis?globalThis:C,M=Array.prototype,D=M.forEach,O=M.indexOf,L=null==I?void 0:I.navigator,$=null==I?void 0:I.document,V=null==I?void 0:I.location,j=null==I?void 0:I.fetch,B=null!=I&&I.XMLHttpRequest&&"withCredentials"in new I.XMLHttpRequest?I.XMLHttpRequest:void 0,N=null==I?void 0:I.AbortController,q=null==L?void 0:L.userAgent,U=null!=C?C:{},H="[PostHog.js]",z={_log:function(e){if(C&&(v.DEBUG||U.POSTHOG_DEBUG)&&!x(C.console)&&C.console){for(var t=("__rrweb_original__"in C.console[e])?C.console[e].__rrweb_original__:C.console[e],i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.apply(void 0,[H].concat(n))}},info:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];z._log.apply(z,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];z._log.apply(z,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];z._log.apply(z,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=console).error.apply(e,[H].concat(i))},uninitializedWarning:function(e){z.error("You must initialize PostHog before calling ".concat(e))}},W={},G=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Y(e,t,i){if(b(e)){if(D&&e.forEach===D)e.forEach(t,i);else if("length"in e&&e.length===+e.length){for(var n=0,r=e.length;n<r;n++)if(n in e&&t.call(i,e[n],n)===W)return}}}function X(e,t,i){if(!R(e)){if(b(e))return Y(e,t,i);if(e instanceof FormData){var n,r=f(e.entries());try{for(r.s();!(n=r.n()).done;){var s=n.value;if(t.call(i,s[1],s[0])===W)return}}catch(e){r.e(e)}finally{r.f()}}else for(var o in e)if(y.call(e,o)&&t.call(i,e[o],o)===W)return}}var K=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Y(i,function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])}),e};function Z(e,t){return -1!==e.indexOf(t)}function Q(e){for(var t=Object.keys(e),i=t.length,n=Array(i);i--;)n[i]=[t[i],e[t[i]]];return n}var J,ee=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},et=function(e){try{return e()}catch(e){return}},ei=function(e){return function(){try{for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.apply(this,i)}catch(e){z.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),z.critical(e)}}},en=function(e){var t={};return X(e,function(e,i){E(e)&&e.length>0&&(t[i]=e)}),t},er=function(e){return e.replace(/^\$/,"")},es=function(e){var t,i,n,r,s="";for(t=i=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,r=0;r<n;r++){var o=e.charCodeAt(r),a=null;o<128?i++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),P(a)||(i>t&&(s+=e.substring(t,i)),s+=a,t=i=r+1)}return i>t&&(s+=e.substring(t,e.length)),s},eo=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,i,n,r,s){if(t){if(t.addEventListener&&!r)t.addEventListener(i,n,!!s);else{var o="on"+i,a=t[o];t[o]=function(i){if(i=i||e(null==C?void 0:C.event)){var r,s=!0;w(a)&&(r=a(i));var o=n.call(t,i);return!1!==r&&!1!==o||(s=!1),s}}}}else z.error("No valid element provided to register_event")}}();function ea(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}(eX=J||(J={})).GZipJS="gzip-js",eX.Base64="base64";var el="$people_distinct_id",eu="__alias",ec="__timers",eh="$autocapture_disabled_server_side",ed="$heatmaps_enabled_server_side",ep="$exception_capture_enabled_server_side",ef="$exception_capture_endpoint_suffix",ev="$web_vitals_enabled_server_side",eg="$session_recording_enabled_server_side",em="$console_log_recording_enabled_server_side",ey="$session_recording_network_payload_capture",e_="$session_recording_canvas_recording",eb="$replay_sample_rate",ew="$replay_minimum_duration",ek="$sesid",eS="$session_is_sampled",ex="$enabled_feature_flags",eE="$early_access_features",eT="$stored_person_properties",eP="$stored_group_properties",eR="$surveys",eF="$surveys_activated",eA="$flag_call_reported",eC="$user_state",eI="$client_session_props",eM="$capture_rate_limit",eD="$initial_campaign_params",eO="$initial_referrer_info",eL="$initial_person_info",e$="$epp",eV="__POSTHOG_TOOLBAR__",ej=[el,eu,"__cmpns",ec,eg,ed,ek,ex,eC,eE,eP,eT,eR,eA,eI,eM,eD,eO,e$],eB="$active_feature_flags",eN="$override_feature_flags",eq="$feature_flag_payloads",eU=function(e){var t,i={},n=f(Q(e||{}));try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),s=r[0],o=r[1];o&&(i[s]=o)}}catch(e){n.e(e)}finally{n.f()}return i},eH=function(){function e(t){o(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return l(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(ex),t=this.instance.get_property(eN);if(!t)return e||{};for(var i=K({},e),n=Object.keys(t),r=0;r<n.length;r++)i[n[r]]=t[n[r]];return this._override_warning||(z.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(eq)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,i=this.instance.get_property(eT),n=this.instance.get_property(eP),r={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:i,group_properties:n,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:r,compression:this.instance.config.disable_compression?void 0:J.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){e.setReloadingPaused(!1);var i,n=!0;200===t.statusCode&&(e.$anon_distinct_id=void 0,n=!1),e.receivedFeatureFlags(null!==(i=t.json)&&void 0!==i?i:{},n),e._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var i,n=this.getFlagVariants()[e],r="".concat(n),s=this.instance.get_property(eA)||{};return!t.send_event&&"send_event"in t||e in s&&s[e].includes(r)||(b(s[e])?s[e].push(r):s[e]=[r],null===(i=this.instance.persistence)||void 0===i||i.register(u({},eA,s)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:n})),n}z.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);z.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(t){return t!==e})}},{key:"receivedFeatureFlags",value:function(e,t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var i=this.getFlagVariants(),n=this.getFlagPayloads();(function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.featureFlags,a=e.featureFlagPayloads;if(o){if(b(o)){var l,c={};if(o)for(var h=0;h<o.length;h++)c[o[h]]=!0;t&&t.register((u(l={},eB,o),u(l,ex,c),l))}else{var d=o,p=a;e.errorsWhileComputingFlags&&(d=r(r({},n),d),p=r(r({},s),p)),t&&t.register((u(i={},eB,Object.keys(eU(d))),u(i,ex,d||{}),u(i,eq,p||{}),i))}}})(e,this.instance.persistence,i,n),this._fireFeatureFlagsCallbacks(t)}}},{key:"override",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return z.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=t,!1===e)this.instance.persistence.unregister(eN);else if(b(e)){for(var i={},n=0;n<e.length;n++)i[e[n]]=!0;this.instance.persistence.register(u({},eN,i))}else this.instance.persistence.register(u({},eN,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var i=this._prepareFeatureFlagsForCallbacks();e(i.flags,i.flagVariants)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var i,n,s=u({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=r(r({},this.getFlagVariants()),{},u({},e,t));null===(i=this.instance.persistence)||void 0===i||i.register((u(n={},eB,Object.keys(eU(o))),u(n,ex,o),n)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.instance.get_property(eE);if(n&&!i)return e(n);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(i){var n;if(i.json){var r=i.json.earlyAccessFeatures;return null===(n=t.instance.persistence)||void 0===n||n.register(u({},eE,r)),e(r)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(function(e){return t[e]}),flagVariants:Object.keys(t).filter(function(e){return t[e]}).reduce(function(e,i){return e[i]=t[i],e},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(e){var t=this._prepareFeatureFlagsForCallbacks(),i=t.flags,n=t.flagVariants;this.featureFlagEventHandlers.forEach(function(t){return t(i,n,{errorsLoading:e})})}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(eT)||{};this.instance.register(u({},eT,r(r({},i),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(eT)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(eP)||{};0!==Object.keys(i).length&&Object.keys(i).forEach(function(t){i[t]=r(r({},i[t]),e[t]),delete e[t]}),this.instance.register(u({},eP,r(r({},i),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(eP)||{};this.instance.register(u({},eP,r(r({},t),{},u({},e,{}))))}else this.instance.unregister(eP)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return F(e)&&isFinite(e)&&Math.floor(e)===e});var ez="0123456789abcdef",eW=function(){function e(t){if(o(this,e),this.bytes=t,16!==t.length)throw TypeError("not 128-bit length")}return l(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+ez.charAt(this.bytes[t]>>>4)+ez.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}],[{key:"fromFieldsV7",value:function(t,i,n,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(n)||!Number.isInteger(r)||t<0||i<0||n<0||r<0||t>0xffffffffffff||i>4095||n>1073741823||r>4294967295)throw RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/1099511627776,s[1]=t/4294967296,s[2]=t/16777216,s[3]=t/65536,s[4]=t/256,s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new e(s)}}]),e}(),eG=function(){function e(){o(this,e),u(this,"timestamp",0),u(this,"counter",0),u(this,"random",new eQ)}return l(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(x(e)){this.timestamp=0;var t=this.generateOrAbort();if(x(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return eW.fromFieldsV7(this.timestamp,Math.trunc(this.counter/1073741824),1073741823&this.counter,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),eY=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};C&&!x(C.crypto)&&crypto.getRandomValues&&(eY=function(e){return crypto.getRandomValues(e)});var eX,eK,eZ,eQ=function(){function e(){o(this,e),u(this,"buffer",new Uint32Array(8)),u(this,"cursor",1/0)}return l(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(eY(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),eJ=function(){return e0().toString()},e0=function(){return(eK||(eK=new eG)).generate()},e1="",e2=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,e3={is_supported:function(){return!!$},error:function(e){z.error("cookieStore error: "+e)},get:function(e){if($){try{for(var t=e+"=",i=$.cookie.split(";").filter(function(e){return e.length}),n=0;n<i.length;n++){for(var r=i[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(e3.get(e))||{}}catch(e){}return t},set:function(e,t,i,n,r){if($)try{var s="",o="",a=function(e,t){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;if(e1)return e1;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var i=e.split("."),n=Math.min(i.length,8),r="dmn_chk_"+eJ(),s=RegExp("(^|;)\\s*"+r+"=1");!e1&&n--;){var o=i.slice(n).join("."),a=r+"=1;domain=."+o;t.cookie=a,s.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",e1=o)}return e1}(e);if(!i){var n,r=(n=e.match(e2))?n[0]:"";r!==i&&z.info("Warning: cookie subdomain discovery mismatch",r,i),i=r}return i?"; domain=."+i:""}return""}($.location.hostname,n);if(i){var l=new Date;l.setTime(l.getTime()+24*i*36e5),s="; expires="+l.toUTCString()}r&&(o="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return u.length>3686.4&&z.warn("cookieStore warning: large cookie, len="+u.length),$.cookie=u,u}catch(e){return}},remove:function(e,t){try{e3.set(e,"",-1,t)}catch(e){return}}},e5=null,e6={is_supported:function(){if(!P(e5))return e5;var e=!0;if(x(C))e=!1;else try{var t="__mplssupport__";e6.set(t,"xyz"),'"xyz"'!==e6.get(t)&&(e=!1),e6.remove(t)}catch(t){e=!1}return e||z.error("localStorage unsupported; falling back to cookie store"),e5=e,e},error:function(e){z.error("localStorage error: "+e)},get:function(e){try{return null==C?void 0:C.localStorage.getItem(e)}catch(e){e6.error(e)}return null},parse:function(e){try{return JSON.parse(e6.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==C||C.localStorage.setItem(e,JSON.stringify(t))}catch(e){e6.error(e)}},remove:function(e){try{null==C||C.localStorage.removeItem(e)}catch(e){e6.error(e)}}},e8=["distinct_id",ek,eS,e$],e4=r(r({},e6),{},{parse:function(e){try{var t={};try{t=e3.parse(e)||{}}catch(e){}var i=K(t,JSON.parse(e6.get(e)||"{}"));return e6.set(e,i),i}catch(e){}return null},set:function(e,t,i,n,r,s){try{e6.set(e,t,void 0,void 0,s);var o={};e8.forEach(function(e){t[e]&&(o[e]=t[e])}),Object.keys(o).length&&e3.set(e,o,i,n,r,s)}catch(e){e6.error(e)}},remove:function(e,t){try{null==C||C.localStorage.removeItem(e),e3.remove(e,t)}catch(e){e6.error(e)}}}),e9={},e7={is_supported:function(){return!0},error:function(e){z.error("memoryStorage error: "+e)},get:function(e){return e9[e]||null},parse:function(e){return e9[e]||null},set:function(e,t){e9[e]=t},remove:function(e){delete e9[e]}},te=null,tt={is_supported:function(){if(!P(te))return te;if(te=!0,x(C))te=!1;else try{var e="__support__";tt.set(e,"xyz"),'"xyz"'!==tt.get(e)&&(te=!1),tt.remove(e)}catch(e){te=!1}return te},error:function(e){z.error("sessionStorage error: ",e)},get:function(e){try{return null==C?void 0:C.sessionStorage.getItem(e)}catch(e){tt.error(e)}return null},parse:function(e){try{return JSON.parse(tt.get(e))||null}catch(e){}return null},set:function(e,t){try{null==C||C.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){tt.error(e)}},remove:function(e){try{null==C||C.sessionStorage.removeItem(e)}catch(e){tt.error(e)}}},ti=["localhost","127.0.0.1"],tn=function(e){var t=null==$?void 0:$.createElement("a");return x(t)?null:(t.href=e,t)},tr=function(e,t){return!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t)&&new RegExp(t).test(e)},ts=function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",r=[];return X(e,function(e,n){x(e)||x(n)||"undefined"===n||(t=encodeURIComponent(e instanceof File?e.name:e.toString()),i=encodeURIComponent(n),r[r.length]=i+"="+t)}),r.join(n)},to=function(e,t){for(var i,n=((e.split("#")[0]||"").split("?")[1]||"").split("&"),r=0;r<n.length;r++){var s=n[r].split("=");if(s[0]===t){i=s;break}}if(!b(i)||i.length<2)return"";var o=i[1];try{o=decodeURIComponent(o)}catch(e){z.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},ta=function(e,t){var i=e.match(RegExp(t+"=([^&]*)"));return i?i[1]:null},tl="Mobile",tu="Android",tc="Tablet",th=tu+" "+tc,td="iPad",tp="Apple",tf=tp+" Watch",tv="Safari",tg="BlackBerry",tm="Samsung",ty=tm+"Browser",t_=tm+" Internet",tb="Chrome",tw=tb+" OS",tk=tb+" iOS",tS="Internet Explorer",tx=tS+" "+tl,tE="Opera",tT=tE+" Mini",tP="Edge",tR="Microsoft "+tP,tF="Firefox",tA=tF+" iOS",tC="Nintendo",tI="PlayStation",tM="Xbox",tD=tu+" "+tl,tO=tl+" "+tv,tL="Windows",t$=tL+" Phone",tV="Nokia",tj="Ouya",tB="Generic",tN=tB+" "+tl.toLowerCase(),tq=tB+" "+tc.toLowerCase(),tU="Konqueror",tH="(\\d+(\\.\\d+)?)",tz=RegExp("Version/"+tH),tW=RegExp(tM,"i"),tG=RegExp(tI+" \\w+","i"),tY=RegExp(tC+" \\w+","i"),tX=RegExp(tg+"|PlayBook|BB10","i"),tK={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},tZ=function(e,t){var i,n;return t=t||"",Z(e," OPR/")&&Z(e,"Mini")?tT:Z(e," OPR/")?tE:tX.test(e)?tg:Z(e,"IE"+tl)||Z(e,"WPDesktop")?tx:Z(e,ty)?t_:Z(e,tP)||Z(e,"Edg/")?tR:Z(e,"FBIOS")?"Facebook "+tl:Z(e,"UCWEB")||Z(e,"UCBrowser")?"UC Browser":Z(e,"CriOS")?tk:Z(e,"CrMo")?tb:Z(e,tu)&&Z(e,tv)?tD:Z(e,tb)?tb:Z(e,"FxiOS")?tA:Z(e.toLowerCase(),tU.toLowerCase())?tU:(i=e,(n=t)&&Z(n,tp)||Z(i,tv)&&!Z(i,tb)&&!Z(i,tu))?Z(e,tl)?tO:tv:Z(e,tF)?tF:Z(e,"MSIE")||Z(e,"Trident/")?tS:Z(e,"Gecko")?tF:""},tQ=(u(eZ={},tx,[RegExp("rv:"+tH)]),u(eZ,tR,[RegExp(tP+"?\\/"+tH)]),u(eZ,tb,[RegExp("("+tb+"|CrMo)\\/"+tH)]),u(eZ,tk,[RegExp("CriOS\\/"+tH)]),u(eZ,"UC Browser",[RegExp("(UCBrowser|UCWEB)\\/"+tH)]),u(eZ,tv,[tz]),u(eZ,tO,[tz]),u(eZ,tE,[RegExp("(Opera|OPR)\\/"+tH)]),u(eZ,tF,[RegExp(tF+"\\/"+tH)]),u(eZ,tA,[RegExp("FxiOS\\/"+tH)]),u(eZ,tU,[RegExp("Konqueror[:/]?"+tH,"i")]),u(eZ,tg,[RegExp(tg+" "+tH),tz]),u(eZ,tD,[RegExp("android\\s"+tH,"i")]),u(eZ,t_,[RegExp(ty+"\\/"+tH)]),u(eZ,tS,[RegExp("(rv:|MSIE )"+tH)]),u(eZ,"Mozilla",[RegExp("rv:"+tH)]),eZ),tJ=[[RegExp(tM+"; "+tM+" (.*?)[);]","i"),function(e){return[tM,e&&e[1]||""]}],[RegExp(tC,"i"),[tC,""]],[RegExp(tI,"i"),[tI,""]],[tX,[tg,""]],[RegExp(tL,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[t$,""];if(new RegExp(tl).test(t)&&!/IEMobile\b/.test(t))return[tL+" "+tl,""];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var n=tK[i[1]]||"";return/arm/i.test(t)&&(n="RT"),[tL,n]}return[tL,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){return e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=x(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+tu+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+tu+")","i"),function(e){return e&&e[2]?[tu,[e[2],e[3],e[4]||"0"].join(".")]:[tu,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var i=[e[1],e[2],e[3]||"0"];t[1]=i.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[tw,""]],[/Linux|debian/i,["Linux",""]]],t0=function(e){return tY.test(e)?tC:tG.test(e)?tI:tW.test(e)?tM:RegExp(tj,"i").test(e)?tj:RegExp("("+t$+"|WPDesktop)","i").test(e)?t$:/iPad/.test(e)?td:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?tf:tX.test(e)?tg:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(tV,"i").test(e)?tV:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(tl).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?tu:th:tu:RegExp("(pda|"+tl+")","i").test(e)?tN:RegExp(tc,"i").test(e)&&!RegExp(tc+" pc","i").test(e)?tq:""},t1="https?://(.*)",t2=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],t3={campaignParams:function(e){return $?this._campaignParamsFromUrl($.URL,e):{}},_campaignParamsFromUrl:function(e,t){var i=t2.concat(t||[]),n={};return X(i,function(t){var i=to(e,t);i&&(n[t]=i)}),n},_searchEngine:function(e){return e?0===e.search(t1+"google.([^/?]*)")?"google":0===e.search(t1+"bing.com")?"bing":0===e.search(t1+"yahoo.com")?"yahoo":0===e.search(t1+"duckduckgo.com")?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=t3._searchEngine(e),i={};if(!P(t)){i.$search_engine=t;var n=$?to($.referrer,"yahoo"!=t?"q":"p"):"";n.length&&(i.ph_keyword=n)}return i},searchInfo:function(){var e=null==$?void 0:$.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:tZ,browserVersion:function(e,t){var i=tQ[tZ(e,t)];if(x(i))return null;for(var n=0;n<i.length;n++){var r=i[n],s=e.match(r);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<tJ.length;t++){var i=c(tJ[t],2),n=i[0],r=i[1],s=n.exec(e),o=s&&(w(r)?r(s,e):r);if(o)return o}return["",""]},device:t0,deviceType:function(e){var t=t0(e);return t===td||t===th||"Kobo"===t||"Kindle Fire"===t||t===tq?tc:t===tC||t===tM||t===tI||t===tj?"Console":t===tf?"Wearable":t?tl:"Desktop"},referrer:function(){return(null==$?void 0:$.referrer)||"$direct"},referringDomain:function(){var e;return null!=$&&$.referrer&&(null===(e=tn($.referrer))||void 0===e?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:null==V?void 0:V.href}},initialPersonPropsFromInfo:function(e){var t,i=e.r,n=e.u,r={$initial_referrer:i,$initial_referring_domain:null==i?void 0:"$direct"==i?"$direct":null===(t=tn(i))||void 0===t?void 0:t.host};if(n){r.$initial_current_url=n;var s=tn(n);r.$initial_host=null==s?void 0:s.host,r.$initial_pathname=null==s?void 0:s.pathname,X(this._campaignParamsFromUrl(n),function(e,t){r["$initial_"+er(t)]=e})}return i&&X(this._searchInfoFromReferrer(i),function(e,t){r["$initial_"+er(t)]=e}),r},properties:function(){if(!q)return{};var e=c(t3.os(q),2);return K(en({$os:e[0],$os_version:e[1],$browser:t3.browser(q,navigator.vendor),$device:t3.device(q),$device_type:t3.deviceType(q)}),{$current_url:null==V?void 0:V.href,$host:null==V?void 0:V.host,$pathname:null==V?void 0:V.pathname,$raw_user_agent:q.length>1e3?q.substring(0,997)+"...":q,$browser_version:t3.browserVersion(q,navigator.vendor),$browser_language:t3.browserLanguage(),$screen_height:null==C?void 0:C.screen.height,$screen_width:null==C?void 0:C.screen.width,$viewport_height:null==C?void 0:C.innerHeight,$viewport_width:null==C?void 0:C.innerWidth,$lib:"web",$lib_version:v.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:ee()/1e3})},people_properties:function(){if(!q)return{};var e=c(t3.os(q),2);return K(en({$os:e[0],$os_version:e[1],$browser:t3.browser(q,navigator.vendor)}),{$browser_version:t3.browserVersion(q,navigator.vendor)})}},t5=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],t6=function(){function e(t){var i;o(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(i="",t.token&&(i=t.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),t.persistence_name?"ph_"+t.persistence_name:"ph_"+i+"_posthog"),this.storage=this.buildStorage(t),this.load(),t.debug&&z.info("Persistence loaded",t.persistence,r({},this.props)),this.update_config(t,t),this.save()}return l(e,[{key:"buildStorage",value:function(e){-1===t5.indexOf(e.persistence.toLowerCase())&&(z.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&e6.is_supported()?e6:"localstorage+cookie"===t&&e4.is_supported()?e4:"sessionstorage"===t&&tt.is_supported()?tt:"memory"===t?e7:"cookie"===t?e3:e4.is_supported()?e4:e3}},{key:"properties",value:function(){var e={};return X(this.props,function(t,i){if(i===ex&&k(t))for(var n,r=Object.keys(t),s=0;s<r.length;s++)e["$feature/".concat(r[s])]=t[r[s]];else n=!1,(P(ej)?n:O&&ej.indexOf===O?-1!=ej.indexOf(i):(X(ej,function(e){if(n||(n=e===i))return W}),n))||(e[i]=t)}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=K({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,i){var n=this;if(k(e)){x(t)&&(t="None"),this.expire_days=x(i)?this.default_expiry:i;var r=!1;if(X(e,function(e,i){n.props.hasOwnProperty(i)&&n.props[i]!==t||(n.props[i]=e,r=!0)}),r)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var i=this;if(k(e)){this.expire_days=x(t)?this.default_expiry:t;var n=!1;if(X(e,function(t,r){e.hasOwnProperty(r)&&i.props[r]!==t&&(i.props[r]=t,n=!0)}),n)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(t3.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(t3.searchInfo())}},{key:"update_referrer_info",value:function(){this.register_once(t3.referrerInfo(),void 0)}},{key:"set_initial_person_info",value:function(){this.props[eD]||this.props[eO]||this.register_once(u({},eL,t3.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return en({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var e=this,t={};X([eO,eD],function(i){var n=e.props[i];n&&X(n,function(e,i){t["$initial_"+er(i)]=e})});var i=this.props[eL];return i&&K(t,t3.initialPersonPropsFromInfo(i)),t}},{key:"safe_merge",value:function(e){return X(this.props,function(t,i){i in e||(e[i]=t)}),e}},{key:"update_config",value:function(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.buildStorage(e),n=this.props;this.clear(),this.storage=i,this.props=n,this.save()}}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var i=this.props[ec]||{};i[e]=t,this.props[ec]=i,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[ec]||{})[e];return x(t)||(delete this.props[ec][e],this.save()),t}},{key:"get_property",value:function(e){return this.props[e]}},{key:"set_property",value:function(e,t){this.props[e]=t,this.save()}}]),e}();function t8(e){var t;return JSON.stringify(e,(t=[],function(e,i){if(k(i)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(i)?"[Circular]":(t.push(i),i)}return i})).length}var t4=((iC=t4||{})[iC.DomContentLoaded=0]="DomContentLoaded",iC[iC.Load=1]="Load",iC[iC.FullSnapshot=2]="FullSnapshot",iC[iC.IncrementalSnapshot=3]="IncrementalSnapshot",iC[iC.Meta=4]="Meta",iC[iC.Custom=5]="Custom",iC[iC.Plugin=6]="Plugin",iC),t9=((iI=t9||{})[iI.Mutation=0]="Mutation",iI[iI.MouseMove=1]="MouseMove",iI[iI.MouseInteraction=2]="MouseInteraction",iI[iI.Scroll=3]="Scroll",iI[iI.ViewportResize=4]="ViewportResize",iI[iI.Input=5]="Input",iI[iI.TouchMove=6]="TouchMove",iI[iI.MediaInteraction=7]="MediaInteraction",iI[iI.StyleSheetRule=8]="StyleSheetRule",iI[iI.CanvasMutation=9]="CanvasMutation",iI[iI.Font=10]="Font",iI[iI.Log=11]="Log",iI[iI.Drag=12]="Drag",iI[iI.StyleDeclaration=13]="StyleDeclaration",iI[iI.Selection=14]="Selection",iI[iI.AdoptedStyleSheet=15]="AdoptedStyleSheet",iI[iI.CustomElement=16]="CustomElement",iI);function t7(e){return e?G(e).split(/\s+/):[]}function ie(e){var t=null==C?void 0:C.location.href;return!!(t&&e&&e.some(function(e){return t.match(e)}))}function it(e){var t="";switch(s(e.className)){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return t7(t)}function ii(e){return R(e)?null:G(e).split(/(\s+)/).filter(function(e){return ib(e)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ir(e){var t="";return ih(e)&&!id(e)&&e.childNodes&&e.childNodes.length&&X(e.childNodes,function(e){var i;ia(e)&&e.textContent&&(t+=null!==(i=ii(e.textContent))&&void 0!==i?i:"")}),G(t)}function is(e){return!!e&&1===e.nodeType}function io(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function ia(e){return!!e&&3===e.nodeType}function il(e){return!!e&&11===e.nodeType}var iu=["a","button","form","input","select","textarea","label"];function ic(e){var t=e.parentNode;return!(!t||!is(t))&&t}function ih(e){for(var t=e;t.parentNode&&!io(t,"body");t=t.parentNode){var i=it(t);if(Z(i,"ph-sensitive")||Z(i,"ph-no-capture"))return!1}if(Z(it(e),"ph-include"))return!0;var n=e.type||"";if(E(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var r=e.name||e.id||"";return!(E(r)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,"")))}function id(e){return!!(io(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||io(e,"select")||io(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var ip="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",iv=new RegExp("^(?:".concat(ip,")$")),ig=new RegExp(ip),im="\\d{3}-?\\d{2}-?\\d{4}",iy=new RegExp("^(".concat(im,")$")),i_=new RegExp("(".concat(im,")"));function ib(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(R(e)||E(e)&&(e=G(e),(t?iv:ig).test((e||"").replace(/[- ]/g,""))||(t?iy:i_).test(e)))}function iw(e){var t=ir(e);return ib(t="".concat(t," ").concat(function e(t){var i="";return t&&t.childNodes&&t.childNodes.length&&X(t.childNodes,function(t){var n;if(t&&"span"===(null===(n=t.tagName)||void 0===n?void 0:n.toLowerCase()))try{var r=ir(t);i="".concat(i," ").concat(r).trim(),t.childNodes&&t.childNodes.length&&(i="".concat(i," ").concat(e(t)).trim())}catch(e){z.error(e)}}),i}(e)).trim())?t:""}function ik(e){return e.replace(/"|\\"/g,'\\"')}var iS="[SessionRecording]",ix="redacted",iE={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},iT=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],iP=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],iR=["/s/","/e/","/i/"];function iF(e,t,i,n){if(R(e))return e;var r=(null==t?void 0:t["content-length"])||new Blob([e]).size;return E(r)&&(r=parseInt(r)),r>i?iS+" ".concat(n," body too large to record (").concat(r," bytes)"):e}function iA(e,t){if(R(e))return e;var i=e;return ib(i,!1)||(i=iS+" "+t+" body "+ix),X(iP,function(e){var n,r;null!==(n=i)&&void 0!==n&&n.length&&-1!==(null===(r=i)||void 0===r?void 0:r.indexOf(e))&&(i=iS+" "+t+" body "+ix+" as might contain: "+e)}),i}var iC,iI,iM,iD=function(e,t){var i,n,s={payloadSizeLimitBytes:iE.payloadSizeLimitBytes,performanceEntryTypeToObserve:h(iE.performanceEntryTypeToObserve),payloadHostDenyList:[].concat(h(t.payloadHostDenyList||[]),h(iE.payloadHostDenyList))},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,u=(n=Math.min(1e6,null!==(i=s.payloadSizeLimitBytes)&&void 0!==i?i:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=iF(e.requestBody,e.requestHeaders,n,"Request")),null!=e&&e.responseBody&&(e.responseBody=iF(e.responseBody,e.responseHeaders,n,"Response")),e}),c=function(e){var t;return u(function(e){var t=tn(e.name);if(!(t&&t.pathname&&iR.some(function(e){return 0===t.pathname.indexOf(e)})))return e}((R(t=e.requestHeaders)||X(Object.keys(null!=t?t:{}),function(e){iT.includes(e.toLowerCase())&&(t[e]=ix)}),e)))},d=w(e.session_recording.maskNetworkRequestFn);return d&&w(e.session_recording.maskCapturedNetworkRequestFn)&&z.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var i=e.session_recording.maskNetworkRequestFn({url:t.name});return r(r({},t),{},{name:null==i?void 0:i.url})}),s.maskRequestFn=w(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var i,n,r,s=c(t);return s&&null!==(i=null===(n=(r=e.session_recording).maskCapturedNetworkRequestFn)||void 0===n?void 0:n.call(r,s))&&void 0!==i?i:void 0}:function(e){return function(e){if(!x(e))return e.requestBody=iA(e.requestBody,"Request"),e.responseBody=iA(e.responseBody,"Response"),e}(c(e))},r(r(r({},iE),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},iO=l(function e(t){var i,n,r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),u(this,"bucketSize",100),u(this,"refillRate",10),u(this,"mutationBuckets",{}),u(this,"loggedTracker",{}),u(this,"refillBuckets",function(){Object.keys(r.mutationBuckets).forEach(function(e){r.mutationBuckets[e]=r.mutationBuckets[e]+r.refillRate,r.mutationBuckets[e]>=r.bucketSize&&delete r.mutationBuckets[e]})}),u(this,"getNodeOrRelevantParent",function(e){var t=r.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest("svg");if(i)return[r.rrweb.mirror.getId(i),i]}return[e,t]}),u(this,"numberOfChanges",function(e){var t,i,n,r,s,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(n=null===(r=e.attributes)||void 0===r?void 0:r.length)&&void 0!==n?n:0)+(null!==(s=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==s?s:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)}),u(this,"throttleMutations",function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=r.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter(function(e){var t,i,n,s=c(r.getNodeOrRelevantParent(e.id),2),o=s[0],a=s[1];return 0!==r.mutationBuckets[o]&&(r.mutationBuckets[o]=null!==(t=r.mutationBuckets[o])&&void 0!==t?t:r.bucketSize,r.mutationBuckets[o]=Math.max(r.mutationBuckets[o]-1,0),0===r.mutationBuckets[o]&&(r.loggedTracker[o]||(r.loggedTracker[o]=!0,null===(i=(n=r.options).onBlockedNode)||void 0===i||i.call(n,o,a))),e)}));var n=r.numberOfChanges(t);return 0!==n||i===n?e:void 0}),this.rrweb=t,this.options=s,this.refillRate=null!==(i=this.options.refillRate)&&void 0!==i?i:this.refillRate,this.bucketSize=null!==(n=this.options.bucketSize)&&void 0!==n?n:this.bucketSize,setInterval(function(){r.refillBuckets()},1e3)}),iL=[t9.MouseMove,t9.MouseInteraction,t9.Scroll,t9.ViewportResize,t9.Input,t9.TouchMove,t9.MediaInteraction,t9.Drag],i$=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},iV="[SessionRecording]",ij=function(){function e(t){var i=this;if(o(this,e),u(this,"queuedRRWebEvents",[]),u(this,"isIdle",!1),u(this,"_linkedFlagSeen",!1),u(this,"_lastActivityTimestamp",Date.now()),u(this,"_linkedFlag",null),u(this,"_forceAllowLocalhostNetworkCapture",!1),u(this,"_onBeforeUnload",function(){i._flushBuffer()}),u(this,"_onOffline",function(){i._tryAddCustomEvent("browser offline",{})}),u(this,"_onOnline",function(){i._tryAddCustomEvent("browser online",{})}),u(this,"_onVisibilityChange",function(){if(null!=$&&$.visibilityState){var e="window "+$.visibilityState;i._tryAddCustomEvent(e,{})}}),u(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw z.error(iV+" started without valid sessionManager"),Error(iV+" started without valid sessionManager. This is a bug.");var n=this.sessionManager.checkAndGetSessionAndWindowId(),r=n.sessionId,s=n.windowId;this.sessionId=r,this.windowId=s,this.buffer=this.clearBuffer(),this._setupSampling()}return l(e,[{key:"rrwebRecord",get:function(){var e;return null==U||null===(e=U.rrweb)||void 0===e?void 0:e.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw Error(iV+" must be started with a valid sessionManager.");return this.instance.sessionManager}},{key:"fullSnapshotIntervalMillis",get:function(){var e;return(null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.full_snapshot_interval_millis)||3e5}},{key:"isSampled",get:function(){var e=this.instance.get_property(eS);return A(e)?e:null}},{key:"sessionDuration",get:function(){var e,t,i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],n=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return i?i.timestamp-n:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(eg),t=!this.instance.config.disable_session_recording;return C&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(em),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"canvasRecording",get:function(){var e=this.instance.get_property(e_);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var e,t,i=this.instance.get_property(ey),n={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},r=(null==n?void 0:n.recordHeaders)||(null==i?void 0:i.recordHeaders),s=(null==n?void 0:n.recordBody)||(null==i?void 0:i.recordBody),o=k(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(A(o)?o:null==i?void 0:i.capturePerformance);return r||s||a?{recordHeaders:r,recordBody:s,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var e=this.instance.get_property(eb);return F(e)?e:null}},{key:"minimumDuration",get:function(){var e=this.instance.get_property(ew);return F(e)?e:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?R(this._linkedFlag)||this._linkedFlagSeen?A(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),null==C||C.addEventListener("beforeunload",this._onBeforeUnload),null==C||C.addEventListener("offline",this._onOffline),null==C||C.addEventListener("online",this._onOnline),null==C||C.addEventListener("visibilitychange",this._onVisibilityChange),z.info(iV+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==C||C.removeEventListener("beforeunload",this._onBeforeUnload),null==C||C.removeEventListener("offline",this._onOffline),null==C||C.removeEventListener("online",this._onOnline),null==C||C.removeEventListener("visibilitychange",this._onVisibilityChange),z.info(iV+" stopped"))}},{key:"makeSamplingDecision",value:function(e){var t,i,n=this.sessionId!==e,r=this.sampleRate;if(F(r)){var s,o=this.isSampled,a=n||!A(o);(s=a?Math.random()<r:o)||!a||z.warn(iV+" Sample rate (".concat(r,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:r}),null===(i=this.instance.persistence)||void 0===i||i.register(u({},eS,s))}else null===(t=this.instance.persistence)||void 0===t||t.register(u({},eS,null))}},{key:"afterDecideResponse",value:function(e){var t,i,n,r=this;if(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint&&(this._endpoint=null===(n=e.sessionRecording)||void 0===n?void 0:n.endpoint),this._setupSampling(),!R(this._linkedFlag)&&!this._linkedFlagSeen){var s=E(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,o=E(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(e,t){var i=k(t)&&s in t,n=o?t[s]===o:i;if(n){var a={linkedFlag:s,linkedVariant:o},l="linked flag matched";z.info(iV+" "+l,a),r._tryAddCustomEvent(l,a)}r._linkedFlagSeen=n})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var e=this;F(this.sampleRate)&&P(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(t){e.makeSamplingDecision(t)}))}},{key:"_persistDecideResponse",value:function(e){if(this.instance.persistence){var t=this.instance.persistence,i=function(){var i,n,s,o,a,l,c,h,d=null===(i=e.sessionRecording)||void 0===i?void 0:i.sampleRate,p=R(d)?null:parseFloat(d),f=null===(n=e.sessionRecording)||void 0===n?void 0:n.minimumDurationMilliseconds;t.register((u(h={},eg,!!e.sessionRecording),u(h,em,null===(s=e.sessionRecording)||void 0===s?void 0:s.consoleLogRecordingEnabled),u(h,ey,r({capturePerformance:e.capturePerformance},null===(o=e.sessionRecording)||void 0===o?void 0:o.networkPayloadCapture)),u(h,e_,{enabled:null===(a=e.sessionRecording)||void 0===a?void 0:a.recordCanvas,fps:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasFps,quality:null===(c=e.sessionRecording)||void 0===c?void 0:c.canvasQuality}),u(h,eb,p),u(h,ew,x(f)?null:f),h))};i(),this.sessionManager.onSessionId(i)}}},{key:"log",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:ee()})}},{key:"_startCapture",value:function(){var e=this;x(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():this.instance.requestRouter.loadScript("/static/recorder.js?v=".concat(v.LIB_VERSION),function(t){if(t)return z.error(iV+" could not load recorder.js",t);e._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==iL.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,clearTimeout(this._fullSnapshotTimer),this._flushBuffer());var i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),i=!0)),!this.isIdle){var n=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),r=n.windowId,s=n.sessionId,o=this.sessionId!==s,a=this.windowId!==r;this.windowId=r,this.sessionId=s,(i||-1===[2,4].indexOf(e.type)&&(a||o||x(this._fullSnapshotTimer)))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):z.warn(iV+" could not emit queued rrweb event.",t,e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var i=this;return this._tryRRWebMethod(i$(function(){return i.rrwebRecord.addCustomEvent(e,t)}))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRWebMethod(i$(function(){return e.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var e,t=this,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},n=this.instance.config.session_recording,s=0,o=Object.entries(n||{});s<o.length;s++){var a=c(o[s],2),l=a[0],u=a[1];l in i&&("maskInputOptions"===l?i.maskInputOptions=r({password:!0},u):i[l]=u)}if(this.canvasRecording&&this.canvasRecording.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.canvasRecording.fps},i.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new iO(this.rrwebRecord,{onBlockedNode:function(e,i){var n="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");z.info(n,{node:i}),t.log(iV+" "+n,"warn")}});var h=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(r({emit:function(e){t.onRRwebEmit(e)},plugins:h},i)),this.instance._addCaptureHook(function(e){try{if("$pageview"===e){var i=C?t._maskUrl(C.location.href):"";if(!i)return;t._tryAddCustomEvent("$pageview",{href:i})}}catch(e){z.error("Could not add $pageview to rrweb session",e)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:i,activePlugins:h.map(function(e){return null==e?void 0:e.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else z.error(iV+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var e=this;if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(function(){e._tryTakeFullSnapshot()},t))}}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return U.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(U.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&w(U.getRecordNetworkPlugin)&&(!ti.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(U.getRecordNetworkPlugin(iD(this.instance.config,this.networkPayloadCapture))):z.info(iV+" NetworkCapture not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(this._processQueuedEvents(),e&&k(e)){if(e.type===t4.Meta){var t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();e.type===t4.FullSnapshot&&this._scheduleFullSnapshot();var i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(i){var n=function(e){if(e&&k(e)&&6===e.type&&k(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],i=0;i<e.data.payload.payload.length;i++)e.data.payload.payload[i]&&e.data.payload.payload[i].length>2e3?t.push(e.data.payload.payload[i].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[i]);return e.data.payload.payload=t,e}return e}(i),r=t8(n);if(this._updateWindowAndSessionIds(n),!this.isIdle||n.type===t4.Custom){var s={$snapshot_bytes:r,$snapshot_data:n,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&C){var e=this._maskUrl(C.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}}},{key:"_processQueuedEvents",value:function(){var e=this;if(this.queuedRRWebEvents.length){var t=h(this.queuedRRWebEvents);this.queuedRRWebEvents=[],t.forEach(function(t){Date.now()-t.enqueuedAt<=2e3&&e._tryRRWebMethod(t)})}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i,n={url:e};return null===(i=n=t.maskNetworkRequestFn(n))||void 0===i?void 0:i.url}return e}},{key:"clearBuffer",value:function(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,i=this.sessionDuration,n=F(i)&&i>=0,r=F(t)&&n&&i<t;return"buffering"===this.status||r?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&(function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(t.size>=i&&t.data.length>1){var n=Math.floor(t.data.length/2),r=t.data.slice(0,n),s=t.data.slice(n);return[e({size:t8(r),data:r,sessionId:t.sessionId,windowId:t.windowId}),e({size:t8(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap(function(e){return e})}return[t]})(this.buffer).forEach(function(t){e._captureSnapshot({$snapshot_bytes:t.size,$snapshot_data:t.data,$session_id:t.sessionId,$window_id:t.windowId})}),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(e){var t,i=this,n=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);(this.buffer.size+e.$snapshot_bytes+n>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){i._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}},{key:"overrideLinkedFlag",value:function(){this._linkedFlagSeen=!0}}]),e}(),iB=function(){function e(t){o(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return l(e,[{key:"call",value:function(){var e=this,t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(eT),group_properties:this.instance.get_property(eP),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:J.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){return e.parseDecideResponse(t.json)}})}},{key:"parseDecideResponse",value:function(e){var t=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var i=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},i),i)z.error("Failed to fetch feature flags from PostHog.");else{if(!$||!$.body)return z.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){t.parseDecideResponse(e)},500);if(this.instance._afterDecideResponse(e),e.siteApps){if(this.instance.config.opt_in_site_apps){var n,r=f(e.siteApps);try{for(r.s();!(n=r.n()).done;)(function(){var e=n.value,i=e.id,r=e.url,s=t.instance.requestRouter.endpointFor("api",r);U["__$$ph_site_app_".concat(i)]=t.instance,t.instance.requestRouter.loadScript(s,function(e){if(e)return z.error("Error while initializing PostHog app with config id ".concat(i),e)})})()}catch(e){r.e(e)}finally{r.f()}}else e.siteApps.length>0&&z.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}}]),e}(),iN=null!=C&&C.location?ta(C.location.hash,"__posthog")||ta(location.hash,"state"):null,iq="_postHogToolbarParams";(n_=iM||(iM={}))[n_.UNINITIALIZED=0]="UNINITIALIZED",n_[n_.LOADING=1]="LOADING",n_[n_.LOADED=2]="LOADED";var iU=function(){function e(t){o(this,e),this.instance=t}return l(e,[{key:"setToolbarState",value:function(e){U.ph_toolbar_state=e}},{key:"getToolbarState",value:function(){var e;return null!==(e=U.ph_toolbar_state)&&void 0!==e?e:iM.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!C||!$)return!1;i=null!==(e=i)&&void 0!==e?e:C.location,r=null!==(t=r)&&void 0!==t?t:C.history;try{if(!n){try{C.localStorage.setItem("test","test"),C.localStorage.removeItem("test")}catch(e){return!1}n=null==C?void 0:C.localStorage}var s,o=iN||ta(i.hash,"__posthog")||ta(i.hash,"state"),a=o?et(function(){return JSON.parse(atob(decodeURIComponent(o)))})||et(function(){return JSON.parse(decodeURIComponent(o))}):null;return a&&"ph_authorize"===a.action?((s=a).source="url",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,"",i.pathname+i.search):i.hash="")):((s=JSON.parse(n.getItem(iq)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(e){return!1}}},{key:"_callLoadToolbar",value:function(e){(U.ph_load_toolbar||U.ph_load_editor)(e,this.instance)}},{key:"loadToolbar",value:function(e){var t=this,i=!(null==$||!$.getElementById(eV));if(!C||i)return!1;var n="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=r(r({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(C.localStorage.setItem(iq,JSON.stringify(r(r({},s),{},{source:void 0}))),this.getToolbarState()===iM.LOADED)this._callLoadToolbar(s);else if(this.getToolbarState()===iM.UNINITIALIZED){this.setToolbarState(iM.LOADING);var o=3e5*Math.floor(Date.now()/3e5);this.instance.requestRouter.loadScript("/static/toolbar.js?t=".concat(o),function(e){if(e)return z.error("Failed to load toolbar",e),void t.setToolbarState(iM.UNINITIALIZED);t.setToolbarState(iM.LOADED),t._callLoadToolbar(s)}),eo(C,"turbolinks:load",function(){t.setToolbarState(iM.UNINITIALIZED),t.loadToolbar(s)})}return!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}]),e}(),iH=function(){function e(t){o(this,e),u(this,"isPaused",!0),u(this,"queue",[]),u(this,"flushTimeoutMs",3e3),this.sendRequest=t}return l(e,[{key:"enqueue",value:function(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var e=this;this.clearFlushTimeout();var t=Object.values(this.queue.length>0?this.formatQueue():{});[].concat(h(t.filter(function(e){return 0===e.url.indexOf("/e")})),h(t.filter(function(e){return 0!==e.url.indexOf("/e")}))).map(function(t){e.sendRequest(r(r({},t),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var e=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(e.clearFlushTimeout(),e.queue.length>0){var t=e.formatQueue();for(var i in t)(function(i){var n=t[i],r=(new Date).getTime();n.data&&b(n.data)&&X(n.data,function(e){e.offset=Math.abs(e.timestamp-r),delete e.timestamp}),e.sendRequest(n)})(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var e={};return X(this.queue,function(t){var i,n=(t?t.batchKey:null)||t.url;x(e[n])&&(e[n]=r(r({},t),{},{data:[]})),null===(i=e[n].data)||void 0===i||i.push(t.data)}),this.queue=[],e}}]),e}(),iz=Uint8Array,iW=Uint16Array,iG=Uint32Array,iY=new iz([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iX=new iz([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iK=new iz([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iZ=function(e,t){for(var i=new iW(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];var r=new iG(i[30]);for(n=1;n<30;++n)for(var s=i[n];s<i[n+1];++s)r[s]=s-i[n]<<5|n;return[i,r]},iQ=iZ(iY,2),iJ=iQ[0],i0=iQ[1];iJ[28]=258,i0[258]=28;for(var i1=iZ(iX,0)[1],i2=new iW(32768),i3=0;i3<32768;++i3){var i5=(43690&i3)>>>1|(21845&i3)<<1;i5=(61680&(i5=(52428&i5)>>>2|(13107&i5)<<2))>>>4|(3855&i5)<<4,i2[i3]=((65280&i5)>>>8|(255&i5)<<8)>>>1}var i6=function(e,t,i){for(var n=e.length,r=0,s=new iW(t);r<n;++r)++s[e[r]-1];var o,a=new iW(t);for(r=0;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(i){o=new iW(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var u=r<<4|e[r],c=t-e[r],h=a[e[r]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)o[i2[h]>>>l]=u}else for(o=new iW(n),r=0;r<n;++r)o[r]=i2[a[e[r]-1]++]>>>15-e[r];return o},i8=new iz(288);for(i3=0;i3<144;++i3)i8[i3]=8;for(i3=144;i3<256;++i3)i8[i3]=9;for(i3=256;i3<280;++i3)i8[i3]=7;for(i3=280;i3<288;++i3)i8[i3]=8;var i4=new iz(32);for(i3=0;i3<32;++i3)i4[i3]=5;var i9=i6(i8,9,0),i7=i6(i4,5,0),ne=function(e){return(e/8>>0)+(7&e&&1)},nt=function(e,t,i){(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length);var n=new(e instanceof iW?iW:e instanceof iG?iG:iz)(i-t);return n.set(e.subarray(t,i)),n},ni=function(e,t,i){i<<=7&t;var n=t/8>>0;e[n]|=i,e[n+1]|=i>>>8},nn=function(e,t,i){i<<=7&t;var n=t/8>>0;e[n]|=i,e[n+1]|=i>>>8,e[n+2]|=i>>>16},nr=function(e,t){for(var i=[],n=0;n<e.length;++n)e[n]&&i.push({s:n,f:e[n]});var r=i.length,s=i.slice();if(!r)return[new iz(0),0];if(1==r){var o=new iz(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort(function(e,t){return e.f-t.f}),i.push({s:-1,f:25001});var a=i[0],l=i[1],u=0,c=1,h=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=i[i[u].f<i[h].f?u++:h++],l=i[u!=c&&i[u].f<i[h].f?u++:h++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(n=1;n<r;++n)s[n].s>d&&(d=s[n].s);var p=new iW(d+1),f=ns(i[c-1],p,0);if(f>t){n=0;var v=0,g=f-t,m=1<<g;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});n<r;++n){var y=s[n].s;if(!(p[y]>t))break;v+=m-(1<<f-p[y]),p[y]=t}for(v>>>=g;v>0;){var _=s[n].s;p[_]<t?v-=1<<t-p[_]++-1:++n}for(;n>=0&&v;--n){var b=s[n].s;p[b]==t&&(--p[b],++v)}f=t}return[new iz(p),f]},ns=function e(t,i,n){return -1==t.s?Math.max(e(t.l,i,n+1),e(t.r,i,n+1)):i[t.s]=n},no=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new iW(++t),n=0,r=e[0],s=1,o=function(e){i[n++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return[i.subarray(0,n),t]},na=function(e,t){for(var i=0,n=0;n<t.length;++n)i+=e[n]*t[n];return i},nl=function(e,t,i){var n=i.length,r=ne(t+2);e[r]=255&n,e[r+1]=n>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<n;++s)e[r+s+4]=i[s];return 8*(r+4+n)},nu=function(e,t,i,n,r,s,o,a,l,u,c){ni(t,c++,i),++r[256];for(var h=nr(r,15),d=h[0],p=h[1],f=nr(s,15),v=f[0],g=f[1],m=no(d),y=m[0],_=m[1],b=no(v),w=b[0],k=b[1],S=new iW(19),x=0;x<y.length;++x)S[31&y[x]]++;for(x=0;x<w.length;++x)S[31&w[x]]++;for(var E=nr(S,7),T=E[0],P=E[1],R=19;R>4&&!T[iK[R-1]];--R);var F,A,C,I,M=u+5<<3,D=na(r,i8)+na(s,i4)+o,O=na(r,d)+na(s,v)+o+14+3*R+na(S,T)+(2*S[16]+3*S[17]+7*S[18]);if(M<=D&&M<=O)return nl(t,c,e.subarray(l,l+u));if(ni(t,c,1+(O<D)),c+=2,O<D){F=i6(d,p,0),A=d,C=i6(v,g,0),I=v;var L=i6(T,P,0);for(ni(t,c,_-257),ni(t,c+5,k-1),ni(t,c+10,R-4),c+=14,x=0;x<R;++x)ni(t,c+3*x,T[iK[x]]);c+=3*R;for(var $=[y,w],V=0;V<2;++V){var j=$[V];for(x=0;x<j.length;++x){var B=31&j[x];ni(t,c,L[B]),c+=T[B],B>15&&(ni(t,c,j[x]>>>5&127),c+=j[x]>>>12)}}}else F=i9,A=i8,C=i7,I=i4;for(x=0;x<a;++x)if(n[x]>255){nn(t,c,F[(B=n[x]>>>18&31)+257]),c+=A[B+257],B>7&&(ni(t,c,n[x]>>>23&31),c+=iY[B]);var N=31&n[x];nn(t,c,C[N]),c+=I[N],N>3&&(nn(t,c,n[x]>>>5&8191),c+=iX[N])}else nn(t,c,F[n[x]]),c+=A[n[x]];return nn(t,c,F[256]),c+A[256]},nc=new iG([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nh=new iz(0),nd=function(){for(var e=new iG(256),t=0;t<256;++t){for(var i=t,n=9;--n;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),np=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},nf=!!B||!!j,nv="text/plain",ng=function(e,t){var i=c(e.split("?"),2),n=i[0],s=i[1],o=r({},t);null==s||s.split("&").forEach(function(e){var t=c(e.split("="),1)[0];delete o[t]});var a=ts(o);return a=a?(s?s+"&":"")+a:s,"".concat(n,"?").concat(a)},nm=function(e){var t,i,n,r,s,o,a,l,u,c=e.data,h=e.compression;if(c)return h===J.GZipJS?{contentType:nv,body:new Blob([(t=function(e,t){var i=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var n=new iz(e.length+(e.length>>>1)),r=0,s=function(e){n[r++]=e},o=0;o<i;++o){if(r+5>n.length){var a=new iz(r+8+(i-o<<1));a.set(n),n=a}var l=e.charCodeAt(o);l<128?s(l):(l<2048?s(192|l>>>6):(l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63)):s(224|l>>>12),s(128|l>>>6&63)),s(128|63&l))}return nt(n,0,r)}(JSON.stringify(c)),i={mtime:0},n=4294967295,r={p:function(e){for(var t=n,i=0;i<e.length;++i)t=nd[255&t^e[i]]^t>>>8;n=t},d:function(){return 4294967295^n}},s=t.length,r.p(t),l=(o=10+(i.filename&&i.filename.length+1||0),a=function(e,t,i,n,r,s){var o=e.length,a=new iz(n+o+5*(1+Math.floor(o/7e3))+8),l=a.subarray(n,a.length-8),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var h=c+65535;h<o?u=nl(l,u,e.subarray(c,h)):(l[c]=s,u=nl(l,u,e.subarray(c,o)))}else{for(var d=nc[t-1],p=d>>>13,f=8191&d,v=(1<<i)-1,g=new iW(32768),m=new iW(v+1),y=Math.ceil(i/3),_=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<_)&v},w=new iG(25e3),k=new iW(288),S=new iW(32),x=0,E=0,T=(c=0,0),P=0,R=0;c<o;++c){var F=b(c),A=32767&c,C=m[F];if(g[A]=C,m[F]=A,P<=c){var I=o-c;if((x>7e3||T>24576)&&I>423){u=nu(e,l,0,w,k,S,E,T,R,c-R,u),T=x=E=0,R=c;for(var M=0;M<286;++M)k[M]=0;for(M=0;M<30;++M)S[M]=0}var D=2,O=0,L=f,$=A-C&32767;if(I>2&&F==b(c-$))for(var V=Math.min(p,I)-1,j=Math.min(32767,c),B=Math.min(258,I);$<=j&&--L&&A!=C;){if(e[c+D]==e[c+D-$]){for(var N=0;N<B&&e[c+N]==e[c+N-$];++N);if(N>D){if(D=N,O=$,N>V)break;var q=Math.min($,N-2),U=0;for(M=0;M<q;++M){var H=c-$+M+32768&32767,z=H-g[H]+32768&32767;z>U&&(U=z,C=H)}}}$+=(A=C)-(C=g[A])+32768&32767}if(O){w[T++]=268435456|i0[D]<<18|i1[O];var W=31&i0[D],G=31&i1[O];E+=iY[W]+iX[G],++k[257+W],++S[G],P=c+D,++x}else w[T++]=e[c],++k[e[c]]}}u=nu(e,l,s,w,k,S,E,T,R,c-R,u),s||(u=nl(l,u,nh))}return nt(a,0,n+ne(u)+r)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,o,8,!0)).length,function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&np(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var n=0;n<=i.length;++n)e[n+10]=i.charCodeAt(n)}}(a,i),np(a,l-8,r.d()),np(a,l-4,s),a)],{type:nv})}:h===J.Base64?{contentType:"application/x-www-form-urlencoded",body:"data="+encodeURIComponent("string"==typeof(u=function(e){var t,i,n,r,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,u="",c=[];if(!e)return e;e=es(e);do t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,i=s>>12&63,n=s>>6&63,r=63&s,c[l++]=o.charAt(t)+o.charAt(i)+o.charAt(n)+o.charAt(r);while(a<e.length);switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(JSON.stringify(c)))?u:JSON.stringify(u))}:{contentType:"application/json",body:JSON.stringify(c)}},ny=[];B&&ny.push({transport:"XHR",method:function(e){var t,i=new B;i.open(e.method||"GET",e.url,!0);var n=null!==(t=nm(e))&&void 0!==t?t:{},r=n.contentType,s=n.body;X(e.headers,function(e,t){i.setRequestHeader(t,e)}),r&&i.setRequestHeader("Content-Type",r),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=function(){if(4===i.readyState){var t,n={statusCode:i.status,text:i.responseText};if(200===i.status)try{n.json=JSON.parse(i.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,n)}},i.send(s)}}),j&&ny.push({transport:"fetch",method:function(e){var t,i,n=null!==(t=nm(e))&&void 0!==t?t:{},r=n.contentType,s=n.body,o=new Headers;X(e.headers,function(e,t){o.append(t,e)}),r&&o.append("Content-Type",r);var a=e.url,l=null;if(N){var u=new N;l={signal:u.signal,timeout:setTimeout(function(){return u.abort()},e.timeout)}}j(a,{method:(null==e?void 0:e.method)||"GET",headers:o,keepalive:"POST"===e.method,body:s,signal:null===(i=l)||void 0===i?void 0:i.signal}).then(function(t){return t.text().then(function(i){var n,r={statusCode:t.status,text:i};if(200===t.status)try{r.json=JSON.parse(i)}catch(e){z.error(e)}null===(n=e.callback)||void 0===n||n.call(e,r)})}).catch(function(t){var i;z.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})}).finally(function(){return l?clearTimeout(l.timeout):null})}}),null!=L&&L.sendBeacon&&ny.push({transport:"sendBeacon",method:function(e){var t=ng(e.url,{beacon:"1"});try{var i,n=null!==(i=nm(e))&&void 0!==i?i:{},r=n.contentType,s=n.body,o="string"==typeof s?new Blob([s],{type:r}):s;L.sendBeacon(t,o)}catch(e){}}});var n_,nb,nw=["retriesPerformedSoFar"],nk=function(){function e(t){var i=this;o(this,e),u(this,"isPolling",!1),u(this,"pollIntervalMs",3e3),u(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!x(C)&&"onLine"in C.navigator&&(this.areWeOnline=C.navigator.onLine,C.addEventListener("online",function(){i.areWeOnline=!0,i.flush()}),C.addEventListener("offline",function(){i.areWeOnline=!1}))}return l(e,[{key:"retriableRequest",value:function(e){var t=this,i=e.retriesPerformedSoFar,n=function(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}(e,nw);F(i)&&i>0&&(n.url=ng(n.url,{retry_count:i})),this.instance._send_request(r(r({},n),{},{callback:function(e){var s;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=i?i:0)<10?t.enqueue(r({retriesPerformedSoFar:i},n)):null===(s=n.callback)||void 0===s||s.call(n,e)}}))}},{key:"enqueue",value:function(e){var t,i,n,r=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=r+1;var s=(n=(Math.random()-.5)*((i=Math.min(18e5,t=3e3*Math.pow(2,r)))-t/2),Math.ceil(i+n)),o=Date.now()+s;this.queue.push({retryAt:o,requestOptions:e});var a="Enqueued failed request for retry in ".concat(s);navigator.onLine||(a+=" (Browser is offline)"),z.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var e=Date.now(),t=[],i=this.queue.filter(function(i){return i.retryAt<e||(t.push(i),!1)});if(this.queue=t,i.length>0){var n,r=f(i);try{for(r.s();!(n=r.n()).done;){var s=n.value.requestOptions;this.retriableRequest(s)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var e,t=f(this.queue);try{for(t.s();!(e=t.n()).done;){var i=e.value.requestOptions;try{this.instance._send_request(r(r({},i),{},{transport:"sendBeacon"}))}catch(e){z.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}}]),e}(),nS=function(){function e(t,i,n,r){o(this,e),u(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=i,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||eJ,this._windowIdGenerator=r||eJ;var s,a=t.persistence_name||t.token,l=t.session_idle_timeout_seconds||1800;if(F(l)?l>1800?z.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):l<60&&z.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(z.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),l=1800),this._sessionTimeoutMs=1e3*Math.min(Math.max(l,60),1800),this._window_id_storage_key="ph_"+a+"_window_id",this._primary_window_exists_storage_key="ph_"+a+"_primary_window_exists",this._canUseSessionStorage()){var c=tt.parse(this._window_id_storage_key),h=tt.parse(this._primary_window_exists_storage_key);c&&!h?this._windowId=c:tt.remove(this._window_id_storage_key),tt.set(this._primary_window_exists_storage_key,!0)}if(null!==(s=this.config.bootstrap)&&void 0!==s&&s.sessionID)try{var d=function(e){var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)}(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),d)}catch(e){z.error("Invalid sessionID in bootstrap",e)}this._listenToReloadWindow()}return l(e,[{key:"onSessionId",value:function(e){var t=this;return x(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter(function(t){return t!==e})}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&tt.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&tt.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?tt.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(u({},ek,[t,e,i])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[ek];return b(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==C||C.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&tt.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),i=c(this._getSessionId(),3),n=i[0],r=i[1],s=i[2],o=this._getWindowId(),a=s&&s>0&&Math.abs(t-s)>864e5,l=!1,u=!r,h=!e&&Math.abs(t-n)>this._sessionTimeoutMs;u||h||a?(r=this._sessionIdGenerator(),o=this._windowIdGenerator(),z.info("[SessionId] new session ID generated",{sessionId:r,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),s=t,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===n||!e||a?t:n,p=0===s?(new Date).getTime():s;return this._setWindowId(o),this._setSessionId(r,d,p),l&&this._sessionIdChangedHandlers.forEach(function(e){return e(r,o)}),{sessionId:r,windowId:o,sessionStartTimestamp:p}}}]),e}();(nR=nb||(nb={})).US="us",nR.EU="eu",nR.CUSTOM="custom";var nx="i.posthog.com",nE=function(){function e(t){o(this,e),u(this,"_regionCache",{}),this.instance=t}return l(e,[{key:"apiHost",get:function(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}},{key:"uiHost",get:function(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace(".".concat(nx),".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=nb.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=nb.EU:this._regionCache[this.apiHost]=nb.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&(t="/"===t[0]?t:"/".concat(t)),"ui"===e)return this.uiHost+t;if(this.region===nb.CUSTOM)return this.apiHost+t;var i=nx+t;switch(e){case"assets":return"https://".concat(this.region,"-assets.").concat(i);case"api":return"https://".concat(this.region,".").concat(i)}}},{key:"loadScript",value:function(e,t){if(this.instance.config.disable_external_dependency_loading)return z.warn("".concat(e," was requested but loading of external scripts is disabled.")),t("Loading of external scripts is disabled");var i="/"===e[0]?this.endpointFor("assets",e):e,n=function(){if(!$)return t("document not found");var e=$.createElement("script");e.type="text/javascript",e.src=i,e.onload=function(e){return t(void 0,e)},e.onerror=function(e){return t(e)};var n,r=$.querySelectorAll("body > script");r.length>0?null===(n=r[0].parentNode)||void 0===n||n.insertBefore(e,r[0]):$.body.appendChild(e)};null!=$&&$.body?n():null==$||$.addEventListener("DOMContentLoaded",n)}}]),e}(),nT="posthog-js";function nP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.organization,n=t.projectId,r=t.prefix,s=t.severityAllowList,o=void 0===s?["error"]:s;return function(t){if(!("*"===o||o.includes(t.level))||!e.__loaded)return t;t.tags||(t.tags={});var s,a,l,u,c,h=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));t.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var d=(null===(s=t.exception)||void 0===s?void 0:s.values)||[],p={$exception_message:(null===(a=d[0])||void 0===a?void 0:a.value)||t.message,$exception_type:null===(l=d[0])||void 0===l?void 0:l.type,$exception_personURL:h,$exception_level:t.level,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null===(u=d[0])||void 0===u?void 0:u.value)||t.message,$sentry_exception_type:null===(c=d[0])||void 0===c?void 0:c.type,$sentry_tags:t.tags,$level:t.level};return i&&n&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+i+"/issues/?project="+n+"&query="+t.event_id),e.exceptions.sendExceptionEvent(p),t}}var nR,nF,nA,nC,nI=l(function e(t,i,n,r,s){o(this,e),this.name=nT,this.setupOnce=function(e){e(nP(t,{organization:i,projectId:n,prefix:r,severityAllowList:s}))}}),nM=function(){function e(t){o(this,e),this._instance=t}return l(e,[{key:"doPageView",value:function(e){var t,i=this._previousPageViewProperties(e);return this._currentPath=null!==(t=null==C?void 0:C.location.pathname)&&void 0!==t?t:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=e,i}},{key:"doPageLeave",value:function(e){return this._previousPageViewProperties(e)}},{key:"_previousPageViewProperties",value:function(e){var t=this._currentPath,i=this._prevPageviewTimestamp,n=this._instance.scrollManager.getContext();if(!i)return{};var r={};if(n){var s=n.maxScrollHeight,o=n.lastScrollY,a=n.maxScrollY,l=n.maxContentHeight,u=n.lastContentY,c=n.maxContentY;x(s)||x(o)||x(a)||x(l)||x(u)||x(c)||(s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),r={$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:s<=1?1:nD(o/s,0,1),$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:s<=1?1:nD(a/s,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:l<=1?1:nD(u/l,0,1),$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:l<=1?1:nD(c/l,0,1)})}return t&&(r.$prev_pageview_pathname=t),i&&(r.$prev_pageview_duration=(e.getTime()-i.getTime())/1e3),r}}]),e}();function nD(e,t,i){return Math.max(t,Math.min(e,i))}(nQ=nF||(nF={})).Popover="popover",nQ.API="api",nQ.Widget="widget",(nJ=nA||(nA={})).Open="open",nJ.MultipleChoice="multiple_choice",nJ.SingleChoice="single_choice",nJ.Rating="rating",nJ.Link="link",(n0=nC||(nC={})).NextQuestion="next_question",n0.End="end",n0.ResponseBased="response_based",n0.SpecificQuestion="specific_question";var nO=function(){function e(){o(this,e),u(this,"events",{}),this.events={}}return l(e,[{key:"on",value:function(e,t){var i=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){i.events[e]=i.events[e].filter(function(e){return e!==t})}}},{key:"emit",value:function(e,t){var i,n=f(this.events[e]||[]);try{for(n.s();!(i=n.n()).done;)(0,i.value)(t)}catch(e){n.e(e)}finally{n.f()}var r,s=f(this.events["*"]||[]);try{for(s.s();!(r=s.n()).done;)(0,r.value)(e,t)}catch(e){s.e(e)}finally{s.f()}}}]),e}(),nL=function(){function e(t){var i=this;o(this,e),u(this,"_debugEventEmitter",new nO),u(this,"checkStep",function(e,t){return i.checkStepEvent(e,t)&&i.checkStepUrl(e,t)&&i.checkStepElement(e,t)}),u(this,"checkStepEvent",function(e,t){return null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event)}),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}return l(e,[{key:"init",value:function(){var e,t,i=this;x(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||null===(e=this.instance)||void 0===e||e._addCaptureHook(function(e,t){i.on(e,t)})}},{key:"register",value:function(e){var t,i,n=this;if(!x(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach(function(e){var t,i;null===(t=n.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach(function(e){var t;null===(t=n.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||"")})}),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var r,s=new Set;e.forEach(function(e){var t;null===(t=e.steps)||void 0===t||t.forEach(function(e){null!=e&&e.selector&&s.add(null==e?void 0:e.selector)})}),null===(r=this.instance)||void 0===r||r.autocapture.setElementSelectors(s)}}},{key:"on",value:function(e,t){var i,n=this;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach(function(e){n.checkAction(t,e)&&n._debugEventEmitter.emit("actionCaptured",e.name)})}},{key:"_addActionHook",value:function(e){this.onAction("actionCaptured",function(t){return e(t)})}},{key:"checkAction",value:function(e,t){if(null==(null==t?void 0:t.steps))return!1;var i,n=f(t.steps);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(this.checkStep(e,r))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"onAction",value:function(e,t){return this._debugEventEmitter.on(e,t)}},{key:"checkStepUrl",value:function(t,i){if(null!=i&&i.url){var n,r=null==t||null===(n=t.properties)||void 0===n?void 0:n.$current_url;if(!r||"string"!=typeof r||!e.matchString(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||"contains"))return!1}return!0}},{key:"checkStepElement",value:function(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.getElementsList(t).some(function(t){return!(null!=i&&i.href&&!e.matchString(t.href||"",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||"exact"))&&(null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!e.matchString(t.text||"",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||"exact")&&!e.matchString(t.$el_text||"",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||"exact"))}))return!1;if(null!=i&&i.selector){var n,r=null==t||null===(n=t.properties)||void 0===n?void 0:n.$element_selectors;if(!r||!r.includes(null==i?void 0:i.selector))return!1}return!0}},{key:"getElementsList",value:function(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}],[{key:"matchString",value:function(t,i,n){switch(n){case"regex":return!!C&&tr(t,i);case"exact":return i===t;case"contains":return tr(t,e.escapeStringRegexp(i).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}},{key:"escapeStringRegexp",value:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}]),e}(),n$=function(){function e(t){o(this,e),this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}return l(e,[{key:"register",value:function(e){var t;x(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}},{key:"setupActionBasedSurveys",value:function(e){var t=this,i=e.filter(function(e){var t,i,n,r;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(n=i.actions)||void 0===n||null===(r=n.values)||void 0===r?void 0:r.length)>0});0!==i.length&&(null==this.actionMatcher&&(this.actionMatcher=new nL(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(function(e){t.onAction(e)})),i.forEach(function(e){var i,n,r,s,o,a,l,u,c,h;e.conditions&&null!==(i=e.conditions)&&void 0!==i&&i.actions&&null!==(n=e.conditions)&&void 0!==n&&null!==(r=n.actions)&&void 0!==r&&r.values&&(null===(s=e.conditions)||void 0===s||null===(o=s.actions)||void 0===o||null===(a=o.values)||void 0===a?void 0:a.length)>0&&(null===(l=t.actionMatcher)||void 0===l||l.register(e.conditions.actions.values),null===(u=e.conditions)||void 0===u||null===(c=u.actions)||void 0===c||null===(h=c.values)||void 0===h||h.forEach(function(i){if(i&&i.name){var n=t.actionToSurveys.get(i.name);n&&n.push(e.id),t.actionToSurveys.set(i.name,n||[e.id])}}))}))}},{key:"setupEventBasedSurveys",value:function(e){var t,i=this;0!==e.filter(function(e){var t,i,n,r;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(n=i.events)||void 0===n||null===(r=n.values)||void 0===r?void 0:r.length)>0}).length&&(null===(t=this.instance)||void 0===t||t._addCaptureHook(function(e,t){i.onEvent(e,t)}),e.forEach(function(e){var t,n,r;null===(t=e.conditions)||void 0===t||null===(n=t.events)||void 0===n||null===(r=n.values)||void 0===r||r.forEach(function(t){if(t&&t.name){var n=i.eventToSurveys.get(t.name);n&&n.push(e.id),i.eventToSurveys.set(t.name,n||[e.id])}})}))}},{key:"onEvent",value:function(t,i){var n,r,s=(null===(n=this.instance)||void 0===n||null===(r=n.persistence)||void 0===r?void 0:r.props[eF])||[];if(e.SURVEY_SHOWN_EVENT_NAME==t&&i&&s.length>0){var o,a=null==i||null===(o=i.properties)||void 0===o?void 0:o.$survey_id;if(a){var l=s.indexOf(a);l>=0&&(s.splice(l,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}},{key:"onAction",value:function(e){var t,i,n=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[eF])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(n.concat(this.actionToSurveys.get(e)||[]))}},{key:"_updateActivatedSurveys",value:function(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register(u({},eF,h(new Set(e))))}},{key:"getSurveys",value:function(){var e,t;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[eF])||[]}},{key:"getEventToSurveys",value:function(){return this.eventToSurveys}},{key:"_getActionMatcher",value:function(){return this.actionMatcher}}]),e}();u(n$,"SURVEY_SHOWN_EVENT_NAME","survey shown");var nV="[Surveys]",nj={icontains:function(e){return!!C&&C.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e){return!!C&&-1===C.location.href.toLowerCase().indexOf(e.toLowerCase())},regex:function(e){return!!C&&tr(C.location.href,e)},not_regex:function(e){return!!C&&!tr(C.location.href,e)},exact:function(e){return(null==C?void 0:C.location.href)===e},is_not:function(e){return(null==C?void 0:C.location.href)!==e}},nB=function(){function e(t){o(this,e),this.instance=t,this._surveyEventReceiver=null}return l(e,[{key:"afterDecideResponse",value:function(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var e=this,t=null==U?void 0:U.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||t||(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new n$(this.instance)),this.instance.requestRouter.loadScript("/static/surveys.js",function(t){if(t)return z.error(nV,"Could not load surveys script",t);e._surveyManager=U.extendPostHogWithSurveys(e.instance)}))}},{key:"getSurveys",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new n$(this.instance));var n=this.instance.get_property(eR);if(n&&!i)return e(n);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(i){if(200!==i.statusCode||!i.json)return e([]);var n,r,s=i.json.surveys||[],o=s.filter(function(e){var t,i,n,r,s,o,a,l,u,c,h,d;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(n=i.events)||void 0===n?void 0:n.values)&&(null===(r=e.conditions)||void 0===r||null===(s=r.events)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u?void 0:u.values)&&(null===(c=e.conditions)||void 0===c||null===(h=c.actions)||void 0===h||null===(d=h.values)||void 0===d?void 0:d.length)>0});return o.length>0&&(null===(r=t._surveyEventReceiver)||void 0===r||r.register(o)),null===(n=t.instance.persistence)||void 0===n||n.register(u({},eR,s)),e(s)}})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys(function(i){var n,r=i.filter(function(e){return!(!e.start_date||e.end_date)}).filter(function(e){if(!e.conditions)return!0;var t,i,n,r,s=null===(t=e.conditions)||void 0===t||!t.url||nj[null!==(i=null===(n=e.conditions)||void 0===n?void 0:n.urlMatchType)&&void 0!==i?i:"icontains"](e.conditions.url),o=null===(r=e.conditions)||void 0===r||!r.selector||(null==$?void 0:$.querySelector(e.conditions.selector));return s&&o}),s=null===(n=t._surveyEventReceiver)||void 0===n?void 0:n.getSurveys();return e(r.filter(function(e){if(!e.linked_flag_key&&!e.targeting_flag_key&&!e.internal_targeting_flag_key)return!0;var i,n,r,o,a,l,u,c,h,d,p=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),f=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key),v=(null===(i=e.conditions)||void 0===i?void 0:i.events)&&(null===(n=e.conditions)||void 0===n||null===(r=n.events)||void 0===r?void 0:r.values)&&(null===(o=e.conditions)||void 0===o||null===(a=o.events)||void 0===a?void 0:a.values.length)>0,g=(null===(l=e.conditions)||void 0===l?void 0:l.actions)&&(null===(u=e.conditions)||void 0===u||null===(c=u.actions)||void 0===c?void 0:c.values)&&(null===(h=e.conditions)||void 0===h||null===(d=h.actions)||void 0===d?void 0:d.values.length)>0,m=!v&&!g||(null==s?void 0:s.includes(e.id)),y=t._canActivateRepeatedly(e),_=!(e.internal_targeting_flag_key&&!y)||t.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key);return p&&f&&_&&m}))},i)}},{key:"getNextSurveyStep",value:function(e,t,i){var n,r=e.questions[t],s=t+1;if(null===(n=r.branching)||void 0===n||!n.type)return t===e.questions.length-1?nC.End:s;if(r.branching.type===nC.End)return nC.End;if(r.branching.type===nC.SpecificQuestion){if(Number.isInteger(r.branching.index))return r.branching.index}else if(r.branching.type===nC.ResponseBased){if(r.type===nA.SingleChoice){var o,a,l=r.choices.indexOf("".concat(i));if(null!==(o=r.branching)&&void 0!==o&&null!==(a=o.responseValues)&&void 0!==a&&a.hasOwnProperty(l)){var u=r.branching.responseValues[l];return Number.isInteger(u)?u:u===nC.End?nC.End:s}}else if(r.type===nA.Rating){if("number"!=typeof i||!Number.isInteger(i))throw Error("The response type must be an integer");var c,h,d=function(e,t){if(3===t){if(e<1||e>3)throw Error("The response must be in range 1-3");return 1===e?"negative":2===e?"neutral":"positive"}if(5===t){if(e<1||e>5)throw Error("The response must be in range 1-5");return e<=2?"negative":3===e?"neutral":"positive"}if(10===t){if(e<0||e>10)throw Error("The response must be in range 0-10");return e<=6?"detractors":e<=8?"passives":"promoters"}throw Error("The scale must be one of: 3, 5, 10")}(i,r.scale);if(null!==(c=r.branching)&&void 0!==c&&null!==(h=c.responseValues)&&void 0!==h&&h.hasOwnProperty(d)){var p=r.branching.responseValues[d];return Number.isInteger(p)?p:p===nC.End?nC.End:s}}return s}return z.warn(nV,"Falling back to next question index due to unexpected branching type"),s}},{key:"_canActivateRepeatedly",value:function(e){return R(U.__PosthogExtensions__.canActivateRepeatedly)&&z.warn(nV,"canActivateRepeatedly is not defined, must init before calling"),U.__PosthogExtensions__.canActivateRepeatedly(e)}},{key:"canRenderSurvey",value:function(e){var t=this;R(this._surveyManager)?z.warn(nV,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(i){var n=i.filter(function(t){return t.id===e})[0];t._surveyManager.canRenderSurvey(n)})}},{key:"renderSurvey",value:function(e,t){var i=this;R(this._surveyManager)?z.warn(nV,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(n){var r=n.filter(function(t){return t.id===e})[0];i._surveyManager.renderSurvey(r,null==$?void 0:$.querySelector(t))})}}]),e}(),nN=function(){function e(t){var i,n,r=this;o(this,e),u(this,"serverLimits",{}),u(this,"lastEventRateLimited",!1),u(this,"checkForLimiting",function(e){var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(function(e){z.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),r.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void z.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(null==e?void 0:e.message,'"'),{text:t})}}),this.instance=t,this.captureEventsPerSecond=(null===(i=t.config.rate_limiting)||void 0===i?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(n=t.config.rate_limiting)||void 0===n?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return l(e,[{key:"clientRateLimitContext",value:function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(new Date).getTime(),s=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(eM))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:r};s.tokens+=(r-s.last)/1e3*this.captureEventsPerSecond,s.last=r,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var o=s.tokens<1;return o||n||(s.tokens=Math.max(0,s.tokens-1)),!o||this.lastEventRateLimited||n||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(eM,s),{isRateLimited:o,remainingTokens:s.tokens}}},{key:"isServerRateLimited",value:function(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),nq=function(){return r({initialPathName:(null==V?void 0:V.pathname)||"",referringDomain:t3.referringDomain()},t3.campaignParams())},nU=function(){function e(t,i,n){var r=this;o(this,e),u(this,"_onSessionIdCallback",function(e){var t=r._getStoredProps();if(!t||t.sessionId!==e){var i={sessionId:e,props:r._sessionSourceParamGenerator()};r._persistence.register(u({},eI,i))}}),this._sessionIdManager=t,this._persistence=i,this._sessionSourceParamGenerator=n||nq,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return l(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[eI]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),nH=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],nz=function(e,t){if(!e)return!1;var i=e.toLowerCase();return nH.concat(t||[]).some(function(e){var t=e.toLowerCase();return -1!==i.indexOf(t)})},nW=function(){function e(){o(this,e),this.clicks=[]}return l(e,[{key:"isRageClick",value:function(e,t,i){var n=this.clicks[this.clicks.length-1];if(n&&Math.abs(e-n.x)+Math.abs(t-n.y)<30&&i-n.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}]),e}();function nG(e){var t;return e.id===eV||!(null===(t=e.closest)||void 0===t||!t.call(e,"#"+eV))}var nY=function(){function e(t){var i,n=this;o(this,e),u(this,"rageclicks",new nW),u(this,"_enabledServerSide",!1),u(this,"_initialized",!1),u(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!(null===(i=this.instance.persistence)||void 0===i||!i.props[ed]),null==C||C.addEventListener("beforeunload",function(){n.flush()})}return l(e,[{key:"flushIntervalMilliseconds",get:function(){var e=5e3;return k(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}},{key:"isEnabled",get:function(){return x(this.instance.config.capture_heatmaps)?x(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}},{key:"startIfEnabled",value:function(){if(this.isEnabled)this._initialized||(z.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds));else{var e;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),this.getAndClearBuffer()}}},{key:"afterDecideResponse",value:function(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register(u({},ed,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var e=this.buffer;return this.buffer=void 0,e}},{key:"_setupListeners",value:function(){var e=this;C&&$&&(eo($,"click",function(t){return e._onClick(t||(null==C?void 0:C.event))},!1,!0),eo($,"mousemove",function(t){return e._onMouseMove(t||(null==C?void 0:C.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(e,t){var i=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),r=this.instance.scrollManager.scrollElement(),s=function(e,t,i){for(var n=e;n&&!io(n,"body")&&n!==i;){if(Z(t,null==C?void 0:C.getComputedStyle(n).position))return!0;n=ic(n)}return!1}(e.target,["fixed","sticky"],r);return{x:e.clientX+(s?0:n),y:e.clientY+(s?0:i),target_fixed:s,type:t}}},{key:"_onClick",value:function(e){var t;if(!nG(e.target)){var i=this._getProperties(e,"click");null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(r(r({},i),{},{type:"rageclick"})),this._capture(i)}}},{key:"_onMouseMove",value:function(e){var t=this;nG(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){t._capture(t._getProperties(e,"mousemove"))},500))}},{key:"_capture",value:function(e){if(C){var t=C.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}}},{key:"flush",value:function(){this.buffer&&!S(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}]),e}(),nX=function(){function e(t){var i=this;o(this,e),u(this,"_updateScrollData",function(){i.context||(i.context={});var e,t,n,r,s=i.scrollElement(),o=i.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,l=o+((null==s?void 0:s.clientHeight)||0),u=(null==s?void 0:s.scrollHeight)||0;i.context.lastScrollY=Math.ceil(o),i.context.maxScrollY=Math.max(o,null!==(e=i.context.maxScrollY)&&void 0!==e?e:0),i.context.maxScrollHeight=Math.max(a,null!==(t=i.context.maxScrollHeight)&&void 0!==t?t:0),i.context.lastContentY=l,i.context.maxContentY=Math.max(l,null!==(n=i.context.maxContentY)&&void 0!==n?n:0),i.context.maxContentHeight=Math.max(u,null!==(r=i.context.maxContentHeight)&&void 0!==r?r:0)}),this.instance=t}return l(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var e=this.context;return setTimeout(this._updateScrollData,0),e}},{key:"startMeasuringScrollPosition",value:function(){null==C||C.addEventListener("scroll",this._updateScrollData,!0),null==C||C.addEventListener("scrollend",this._updateScrollData,!0),null==C||C.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return null==C?void 0:C.document.documentElement;var e,t=f(b(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var i=e.value,n=null==C?void 0:C.document.querySelector(i);if(n)return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return C&&(C.scrollY||C.pageYOffset||C.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return C&&(C.scrollX||C.pageXOffset||C.document.documentElement.scrollLeft)||0}}]),e}(),nK="$copy_autocapture";function nZ(e,t){return t.length>e?t.slice(0,e)+"...":t}var nQ,nJ,n0,n1,n2=function(){function e(t){o(this,e),u(this,"_initialized",!1),u(this,"_isDisabledServerSide",null),u(this,"rageclicks",new nW),u(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}return l(e,[{key:"config",get:function(){var e,t,i=k(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map(function(e){return new RegExp(e)}),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map(function(e){return new RegExp(e)}),i}},{key:"_addDomEventHandlers",value:function(){var e=this;if(this.isBrowserSupported()){if(C&&$){var t=function(t){t=t||(null==C?void 0:C.event);try{e._captureEvent(t)}catch(e){z.error("Failed to capture event",e)}},i=function(t){t=t||(null==C?void 0:C.event),e._captureEvent(t,nK)};eo($,"submit",t,!1,!0),eo($,"change",t,!1,!0),eo($,"click",t,!1,!0),this.config.capture_copied_text&&(eo($,"copy",i,!1,!0),eo($,"cut",i,!1,!0))}}else z.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(u({},eh,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}},{key:"setElementSelectors",value:function(e){this._elementSelectors=e}},{key:"getElementSelectors",value:function(e){var t,i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach(function(t){var n=null==$?void 0:$.querySelectorAll(t);null==n||n.forEach(function(n){e===n&&i.push(t)})}),i}},{key:"isEnabled",get:function(){var e,t,i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[eh];if(P(this._isDisabledServerSide)&&!A(i)&&!this.instance.config.advanced_disable_decide)return!1;var n=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!n}},{key:"_previousElementSibling",value:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!is(t));return t}},{key:"_getAugmentPropertiesFromElement",value:function(e){if(!ih(e))return{};var t={};return X(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var i=e.name.replace("data-ph-capture-attribute-",""),n=e.value;i&&n&&ib(n)&&(t[i]=n)}}),t}},{key:"_getPropertiesFromElement",value:function(e,t,i){var n,r=e.tagName.toLowerCase(),s={tag_name:r};iu.indexOf(r)>-1&&!i&&("a"===r.toLowerCase()||"button"===r.toLowerCase()?s.$el_text=nZ(1024,iw(e)):s.$el_text=nZ(1024,ir(e)));var o=it(e);o.length>0&&(s.classes=o.filter(function(e){return""!==e}));var a=null===(n=this.config)||void 0===n?void 0:n.element_attribute_ignorelist;X(e.attributes,function(i){var n;if((!id(e)||-1!==["name","id","class","aria-label"].indexOf(i.name))&&(null==a||!a.includes(i.name))&&!t&&ib(i.value)&&(!E(n=i.name)||"_ngcontent"!==n.substring(0,10)&&"_nghost"!==n.substring(0,7))){var r=i.value;"class"===i.name&&(r=t7(r).join(" ")),s["attr__"+i.name]=nZ(1024,r)}});for(var l=1,u=1,c=e;c=this._previousElementSibling(c);)l++,c.tagName===e.tagName&&u++;return s.nth_child=l,s.nth_of_type=u,s}},{key:"_getDefaultProperties",value:function(e){return{$event_type:e,$ce_version:1}}},{key:"_getEventTarget",value:function(e){var t;return x(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}},{key:"_captureEvent",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$autocapture";if(this.isEnabled){var n,o=this._getEventTarget(e);ia(o)&&(o=o.parentNode||null),"$autocapture"===i&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!==(n=this.rageclicks)&&void 0!==n&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,"$rageclick");var a=i===nK;if(o&&function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(!C||!e||io(e,"html")||!is(e)||null!=i&&i.url_allowlist&&!ie(i.url_allowlist)||null!=i&&i.url_ignorelist&&ie(i.url_ignorelist))return!1;if(null!=i&&i.dom_event_allowlist){var o=i.dom_event_allowlist;if(o&&!o.some(function(e){return t.type===e}))return!1}for(var a=!1,l=[e],u=!0,c=e;c.parentNode&&!io(c,"body");)if(il(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(u=ic(c)))break;if(n||iu.indexOf(u.tagName.toLowerCase())>-1)a=!0;else{var h=C.getComputedStyle(u);h&&"pointer"===h.getPropertyValue("cursor")&&(a=!0)}l.push(u),c=u}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(x(i))return!0;var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var o=function(){var e=n.value;if(i.some(function(t){return e.tagName.toLowerCase()===t}))return{v:!0}}();if("object"===s(o))return o.v}}catch(e){r.e(e)}finally{r.f()}return!1}(l,i)||!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(x(i))return!0;var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var o=function(){var e=n.value;if(i.some(function(t){return e.matches(t)}))return{v:!0}}();if("object"===s(o))return o.v}}catch(e){r.e(e)}finally{r.f()}return!1}(l,i))return!1;var d=C.getComputedStyle(e);if(d&&"pointer"===d.getPropertyValue("cursor")&&"click"===t.type)return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(r||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(t.type)>=0;default:return a?(r||["click"]).indexOf(t.type)>=0:(r||["click"]).indexOf(t.type)>=0&&(iu.indexOf(p)>-1||"true"===e.getAttribute("contenteditable"))}}(o,e,this.config,a,a?["copy","cut"]:void 0)){for(var l,u,h=[o],d=o;d.parentNode&&!io(d,"body");)il(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var p,v,g=[],m={},y=!1;if(X(h,function(e){var i=ih(e);"a"===e.tagName.toLowerCase()&&(p=e.getAttribute("href"),p=i&&ib(p)&&p),Z(it(e),"ph-no-capture")&&(y=!0),g.push(t._getPropertiesFromElement(e,t.instance.config.mask_all_element_attributes,t.instance.config.mask_all_text)),K(m,t._getAugmentPropertiesFromElement(e))}),this.instance.config.mask_all_text||("a"===o.tagName.toLowerCase()||"button"===o.tagName.toLowerCase()?g[0].$el_text=iw(o):g[0].$el_text=ir(o)),p){g[0].attr__href=p;var _,w,k=null===(_=tn(p))||void 0===_?void 0:_.host,S=null==C||null===(w=C.location)||void 0===w?void 0:w.host;k&&S&&k!==S&&(v=p)}if(y)return!1;var E=K(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:g.map(function(e){var t,i,n,r={text:null===(i=e.$el_text)||void 0===i?void 0:i.slice(0,400),tag_name:e.tag_name,href:null===(n=e.attr__href)||void 0===n?void 0:n.slice(0,2048),attr_class:(t=e.attr__class)?b(t)?t:t7(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Q(e).filter(function(e){return 0===c(e,1)[0].indexOf("attr__")}).forEach(function(e){var t=c(e,2),i=t[0],n=t[1];return r.attributes[i]=n}),r}).map(function(e){var t,i,n="";if(e.tag_name&&(n+=e.tag_name),e.attr_class){e.attr_class.sort();var s,o=f(e.attr_class);try{for(o.s();!(s=o.n()).done;){var a=s.value;n+=".".concat(a.replace(/"/g,""))}}catch(e){o.e(e)}finally{o.f()}}var l=r(r(r(r({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(i=e.nth_of_type)&&void 0!==i?i:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),u={};return Q(l).sort(function(e,t){var i=c(e,1)[0],n=c(t,1)[0];return i.localeCompare(n)}).forEach(function(e){var t=c(e,2),i=t[0],n=t[1];return u[ik(i.toString())]=ik(n.toString())}),n+=":"+Q(l).map(function(e){var t=c(e,2),i=t[0],n=t[1];return"".concat(i,'="').concat(n,'"')}).join("")}).join(";")}:{$elements:g},null!==(l=g[0])&&void 0!==l&&l.$el_text?{$el_text:null===(u=g[0])||void 0===u?void 0:u.$el_text}:{},v&&"click"===e.type?{$external_click_url:v}:{},m),T=this.getElementSelectors(o);if(T&&T.length>0&&(E.$element_selectors=T),i===nK){var P,R=ii(null==C||null===(P=C.getSelection())||void 0===P?void 0:P.toString()),F=e.type||"clipboard";if(!R)return!1;E.$selected_content=R,E.$copy_type=F}return this.instance.capture(i,E),!0}}}},{key:"isBrowserSupported",value:function(){return w(null==$?void 0:$.querySelectorAll)}}]),e}(),n3=function(){function e(t){var i=this;o(this,e),u(this,"_restoreXHRPatch",void 0),u(this,"_restoreFetchPatch",void 0),u(this,"_startCapturing",function(){x(i._restoreXHRPatch)&&U.postHogTracingHeadersPatchFns._patchXHR(i.instance.sessionManager),x(i._restoreFetchPatch)&&U.postHogTracingHeadersPatchFns._patchFetch(i.instance.sessionManager)}),this.instance=t}return l(e,[{key:"_loadScript",value:function(e){U.postHogTracingHeadersPatchFns&&e(),this.instance.requestRouter.loadScript("/static/tracing-headers.js?v=".concat(v.LIB_VERSION),function(t){if(t)return z.error("[TRACING-HEADERS] failed to load script",t);e()})}},{key:"startIfEnabledOrStop",value:function(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();(rl=n1||(n1={}))[rl.PENDING=-1]="PENDING",rl[rl.DENIED=0]="DENIED",rl[rl.GRANTED=1]="GRANTED";var n5=function(){function e(t){o(this,e),this.instance=t}return l(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?n1.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===n1.DENIED||this.consent===n1.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var e=this.instance.config,t=e.token;return(e.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+t}},{key:"storedConsent",get:function(){var e=this.storage.get(this.storageKey);return"1"===e?n1.GRANTED:"0"===e?n1.DENIED:n1.PENDING}},{key:"storage",get:function(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage="localStorage"===e?e6:e3;var t="localStorage"===e?e3:e6;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut("1"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!ea([null==L?void 0:L.doNotTrack,null==L?void 0:L.msDoNotTrack,U.doNotTrack],function(e){return Z([!0,1,"1","yes"],e)})}}]),e}(),n6="[Exception Autocapture]",n8=function(){function e(t){var i,n=this;o(this,e),u(this,"originalOnUnhandledRejectionHandler",void 0),u(this,"startCapturing",function(){if(C&&n.isEnabled&&!n.hasHandlers&&!n.isCapturing){var e=C.posthogErrorWrappingFunctions.wrapOnError,t=C.posthogErrorWrappingFunctions.wrapUnhandledRejection;if(e&&t)try{n.unwrapOnError=e(n.captureException.bind(n)),n.unwrapUnhandledRejection=t(n.captureException.bind(n))}catch(e){z.error(n6+" failed to start",e),n.stopCapturing()}else z.error(n6+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!(null===(i=this.instance.persistence)||void 0===i||!i.props[ep]),this.startIfEnabled()}return l(e,[{key:"isEnabled",get:function(){var e;return null!==(e=this.remoteEnabled)&&void 0!==e&&e}},{key:"isCapturing",get:function(){var e;return!(null==C||null===(e=C.onerror)||void 0===e||!e.__POSTHOG_INSTRUMENTED__)}},{key:"hasHandlers",get:function(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this.isCapturing&&(z.info(n6+" enabled, starting..."),this.loadScript(this.startCapturing))}},{key:"loadScript",value:function(e){this.hasHandlers&&e(),this.instance.requestRouter.loadScript("/static/exception-autocapture.js?v=".concat(v.LIB_VERSION),function(t){if(t)return z.error(n6+" failed to load script",t);e()})}},{key:"stopCapturing",value:function(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this)}},{key:"afterDecideResponse",value:function(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t,this.instance.persistence&&this.instance.persistence.register(u({},ep,this.remoteEnabled)),this.startIfEnabled()}},{key:"captureException",value:function(e){var t=this.instance.requestRouter.endpointFor("ui");e.$exception_personURL="".concat(t,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}]),e}(),n4="[Web Vitals]",n9=function(){function e(t){var i,n=this;o(this,e),u(this,"_enabledServerSide",!1),u(this,"_initialized",!1),u(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),u(this,"_flushToCapture",function(){clearTimeout(n._delayedFlushTimer),0!==n.buffer.metrics.length&&(n.instance.capture("$web_vitals",n.buffer.metrics.reduce(function(e,t){var i;return r(r({},e),{},(u(i={},"$web_vitals_".concat(t.name,"_event"),r({},t)),u(i,"$web_vitals_".concat(t.name,"_value"),t.value),i))},{})),n.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),u(this,"_addToBuffer",function(e){var t,i=null===(t=n.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(x(i))z.error(n4+"Could not read session ID. Dropping metrics!");else{n.buffer=n.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var s=n._currentURL();x(s)||(R(null==e?void 0:e.name)||R(null==e?void 0:e.value)?z.error(n4+"Invalid metric received",e):n._maxAllowedValue&&e.value>=n._maxAllowedValue?z.error(n4+"Ignoring metric with value >= "+n._maxAllowedValue,e):(n.buffer.url!==s&&(n._flushToCapture(),n._delayedFlushTimer=setTimeout(n._flushToCapture,8e3)),x(n.buffer.url)&&(n.buffer.url=s),n.buffer.firstMetricTimestamp=x(n.buffer.firstMetricTimestamp)?Date.now():n.buffer.firstMetricTimestamp,n.buffer.metrics.push(r(r({},e),{},{$current_url:s,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),4===n.buffer.metrics.length&&n._flushToCapture()))}}),u(this,"_startCapturing",function(){var e=U.postHogWebVitalsCallbacks,t=e.onLCP,i=e.onCLS,r=e.onFCP,s=e.onINP;t&&i&&r&&s?(t(n._addToBuffer),i(n._addToBuffer),r(n._addToBuffer),s(n._addToBuffer),n._initialized=!0):z.error(n4+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!(null===(i=this.instance.persistence)||void 0===i||!i.props[ev]),this.startIfEnabled()}return l(e,[{key:"_maxAllowedValue",get:function(){var e=k(this.instance.config.capture_performance)&&F(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<e&&e<=6e4?9e5:e}},{key:"isEnabled",get:function(){var e=k(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return A(e)?e:this._enabledServerSide}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(z.info(n4+" enabled, starting..."),this.loadScript(this._startCapturing))}},{key:"afterDecideResponse",value:function(e){var t=k(e.capturePerformance)&&!!e.capturePerformance.web_vitals;this.instance.persistence&&this.instance.persistence.register(u({},ev,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"loadScript",value:function(e){C.postHogWebVitalsCallbacks&&e(),this.instance.requestRouter.loadScript("/static/web-vitals.js?v=".concat(v.LIB_VERSION),function(t){t?z.error(n4+" failed to load script",t):e()})}},{key:"_currentURL",value:function(){var e=C?C.location.href:void 0;return e||z.error(n4+"Could not determine current URL"),e}}]),e}(),n7=function(){function e(t){var i;o(this,e),this.instance=t,this._endpointSuffix=(null===(i=this.instance.persistence)||void 0===i?void 0:i.props[ef])||"/e/"}return l(e,[{key:"endpoint",get:function(){return this.instance.requestRouter.endpointFor("api",this._endpointSuffix)}},{key:"afterDecideResponse",value:function(e){var t=e.autocaptureExceptions;this._endpointSuffix=k(t)&&t.endpoint||"/e/",this.instance.persistence&&this.instance.persistence.register(u({},ef,this._endpointSuffix))}},{key:"sendExceptionEvent",value:function(e){this.instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}]),e}(),re={},rt=function(){},ri="posthog",rn=!nf&&-1===(null==q?void 0:q.indexOf("MSIE"))&&-1===(null==q?void 0:q.indexOf("Mozilla")),rr=function(){var e,t,i;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:!!E(i=null==(t=null==$?void 0:$.location)?void 0:t.hostname)&&"herokuapp.com"!==i.split(".").slice(-2).join("."),persistence:"localStorage+cookie",persistence_name:"",loaded:rt,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:V&&E(null==V?void 0:V.search)&&-1!==V.search.indexOf("__posthog_debug=true")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==C||null===(e=C.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(e){var t="Bad HTTP status: "+e.statusCode+" "+e.text;z.error(t)},get_device_id:function(e){return e},_onCapture:rt,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},rs=function(e){var t={};x(e.process_person)||(t.person_profiles=e.process_person),x(e.xhr_headers)||(t.request_headers=e.xhr_headers),x(e.cookie_name)||(t.persistence_name=e.cookie_name),x(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var i=K({},t,e);return b(e.property_blacklist)&&(x(e.property_denylist)?i.property_denylist=e.property_blacklist:b(e.property_denylist)?i.property_denylist=[].concat(h(e.property_blacklist),h(e.property_denylist)):z.error("Invalid value for property_denylist config: "+e.property_denylist)),i},ro=function(){function e(){o(this,e),u(this,"__forceAllowLocalhost",!1)}return l(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){z.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),ra=function(){function e(){var t=this;o(this,e),u(this,"webPerformance",new ro),u(this,"version",v.LIB_VERSION),u(this,"_internalEventEmitter",new nO),this.config=rr(),this.decideEndpointWasHit=!1,this.SentryIntegration=nI,this.sentryIntegration=function(e){var i;return i=nP(t,e),{name:nT,processEvent:function(e){return i(e)}}},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this.featureFlags=new eH(this),this.toolbar=new iU(this),this.scrollManager=new nX(this),this.pageViewManager=new nM(this),this.surveys=new nB(this),this.exceptions=new n7(this),this.rateLimiter=new nN(this),this.requestRouter=new nE(this),this.consent=new n5(this),this.people={set:function(e,i,n){var r=E(e)?u({},e,i):e;t.setPersonProperties(r),null==n||n({})},set_once:function(e,i,n){var r=E(e)?u({},e,i):e;t.setPersonProperties(void 0,r),null==n||n({})}},this.on("eventCaptured",function(e){return z.info("send",e)})}return l(e,[{key:"init",value:function(t,i,n){if(n&&n!==ri){var r,s=null!==(r=re[n])&&void 0!==r?r:new e;return s._init(t,i,n),re[n]=s,re[ri][n]=s,s}return this._init(t,i,n)}},{key:"_init",value:function(e){var t,i,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(x(e)||T(e))return z.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return z.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(K({},rr(),rs(s),{name:o,token:e})),this.config.on_xhr_error&&z.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:J.GZipJS,this.persistence=new t6(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new t6(r(r({},this.config),{},{persistence:"sessionStorage"}));var a=r({},this.persistence.props),l=r({},this.sessionPersistence.props);if(this._requestQueue=new iH(function(e){return n._send_retriable_request(e)}),this._retryQueue=new nk(this),this.__request_queue=[],this.sessionManager=new nS(this.config,this.persistence),this.sessionPropsManager=new nU(this.sessionManager,this.persistence),new n3(this).startIfEnabledOrStop(),this.sessionRecording=new ij(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new n2(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new nY(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new n9(this),this.exceptionObserver=new n8(this),this.exceptionObserver.startIfEnabled(),v.DEBUG=v.DEBUG||this.config.debug,v.DEBUG&&z.info("Starting in debug mode",{this:this,config:s,thisC:r({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),void 0!==(null===(t=s.bootstrap)||void 0===t?void 0:t.distinctID)){var u,c,h=this.config.get_device_id(eJ()),d=null!==(u=s.bootstrap)&&void 0!==u&&u.isIdentifiedID?h:s.bootstrap.distinctID;this.persistence.set_property(eC,null!==(c=s.bootstrap)&&void 0!==c&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:d})}if(this._hasBootstrappedFeatureFlags()){var p,f,g=Object.keys((null===(p=s.bootstrap)||void 0===p?void 0:p.featureFlags)||{}).filter(function(e){var t,i;return!(null===(t=s.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])}).reduce(function(e,t){var i,n;return e[t]=(null===(i=s.bootstrap)||void 0===i||null===(n=i.featureFlags)||void 0===n?void 0:n[t])||!1,e},{}),m=Object.keys((null===(f=s.bootstrap)||void 0===f?void 0:f.featureFlagPayloads)||{}).filter(function(e){return g[e]}).reduce(function(e,t){var i,n,r,o;return null!==(i=s.bootstrap)&&void 0!==i&&null!==(n=i.featureFlagPayloads)&&void 0!==n&&n[t]&&(e[t]=null===(r=s.bootstrap)||void 0===r||null===(o=r.featureFlagPayloads)||void 0===o?void 0:o[t]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:m})}if(!this.get_distinct_id()){var y=this.config.get_device_id(eJ());this.register_once({distinct_id:y,$device_id:y},""),this.persistence.set_property(eC,"anonymous")}return null==C||null===(i=C.addEventListener)||void 0===i||i.call(C,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?function(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var n=function(i){var n=function(){return i.anonymousId()||eJ()};e.config.get_device_id=n,i.id()&&(e.register({distinct_id:i.id(),$device_id:n()}),e.persistence.set_property(eC,"identified")),t()},r=i.user();"then"in r&&w(r.then)?r.then(function(e){return n(e)}):n(r)}(e,function(){var n;i.register((Promise&&Promise.resolve||z.warn("This browser does not have Promise support, and can not use the segment integration"),n=function(t,i){if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(z.info("Segment integration does not have a userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(z.info("Segment integration has a userId set, identifying with PostHog"),e.identify(t.event.userId));var n,r=e._calculate_event_properties(i,null!==(n=t.event.properties)&&void 0!==n?n:{},new Date);return t.event.properties=Object.assign({},r,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return n(e,e.event.event)},page:function(e){return n(e,"$pageview")},identify:function(e){return n(e,"$identify")},screen:function(e){return n(e,"$screen")}})).then(function(){t()})})}(this,function(){return n._loaded()}):this._loaded(),w(this.config._onCapture)&&this.on("eventCaptured",function(e){return n.config._onCapture(e.event,e)}),this}},{key:"_afterDecideResponse",value:function(e){var t,i,n,r,s,o,a,l;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Z(e.supportedCompression,J.GZipJS)?J.GZipJS:Z(e.supportedCompression,J.Base64)?J.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),null===(i=this.sessionRecording)||void 0===i||i.afterDecideResponse(e),null===(n=this.autocapture)||void 0===n||n.afterDecideResponse(e),null===(r=this.heatmaps)||void 0===r||r.afterDecideResponse(e),null===(s=this.surveys)||void 0===s||s.afterDecideResponse(e),null===(o=this.webVitalsAutocapture)||void 0===o||o.afterDecideResponse(e),null===(a=this.exceptions)||void 0===a||a.afterDecideResponse(e),null===(l=this.exceptionObserver)||void 0===l||l.afterDecideResponse(e)}},{key:"_loaded",value:function(){var e=this,t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){z.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){e.consent.isOptedIn()&&e._captureInitialPageview()},1),t||(new iB(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||Y(this.__request_queue,function(t){return e._send_retriable_request(t)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(e){var t=this;this.__loaded&&(rn?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=ng(e.url,{ip:this.config.ip?1:0}),e.headers=r({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,function(e){var t,i,n,s=r({},e);s.timeout=s.timeout||6e4,s.url=ng(s.url,{_:(new Date).getTime().toString(),ver:v.LIB_VERSION,compression:s.compression});var o=null!==(t=s.transport)&&void 0!==t?t:"XHR",a=null!==(i=null===(n=ea(ny,function(e){return e.transport===o}))||void 0===n?void 0:n.method)&&void 0!==i?i:ny[0].method;if(!a)throw Error("No available transport method");a(s)}(r(r({},e),{},{callback:function(i){var n,r,s;t.rateLimiter.checkForLimiting(i),i.statusCode>=400&&(null===(r=(s=t.config).on_request_error)||void 0===r||r.call(s,i)),null===(n=e.callback)||void 0===n||n.call(e,i)}}))))}},{key:"_send_retriable_request",value:function(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}},{key:"_execute_array",value:function(e){var t,i=this,n=[],r=[],s=[];Y(e,function(e){e&&(b(t=e[0])?s.push(e):w(e)?e.call(i):b(e)&&"alias"===t?n.push(e):b(e)&&-1!==t.indexOf("capture")&&w(i[t])?s.push(e):r.push(e))});var o=function(e,t){Y(e,function(e){if(b(e[0])){var i=t;X(e,function(e){i=i[e[0]].apply(i,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};o(n,this),o(r,this),o(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t,i){var n;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut()){if(!x(e)&&E(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o,a,l,u,c=new Date,h=(null==i?void 0:i.timestamp)||c,d={uuid:eJ(),event:e,properties:this._calculate_event_properties(e,t||{},h)};s&&(d.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==i?void 0:i.$set)&&(d.$set=null==i?void 0:i.$set);var p=this._calculate_set_once_properties(null==i?void 0:i.$set_once);p&&(d.$set_once=p),(o=d,a=null!=i&&i._noTruncate?null:this.config.properties_string_max_length,l=function(e){return E(e)&&!P(a)?e.slice(0,a):e},u=new Set,d=function e(t,i){var n;return t!==Object(t)?l?l(t,i):t:u.has(t)?void 0:(u.add(t),b(t)?(n=[],Y(t,function(t){n.push(e(t))})):(n={},X(t,function(t,i){u.has(t)||(n[i]=e(t,i))})),n)}(o)).timestamp=h,x(null==i?void 0:i.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=c);var f=r(r({},d.properties.$set),d.$set);S(f)||this.setPersonPropertiesForFlags(f),this._internalEventEmitter.emit("eventCaptured",d);var v={method:"POST",url:null!==(n=null==i?void 0:i._url)&&void 0!==n?n:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(v):this._requestQueue.enqueue(v),d}z.critical("This capture call is ignored due to client rate limiting.")}}else z.error("No event name provided to posthog.capture")}}else z.uninitializedWarning("posthog.capture")}},{key:"_addCaptureHook",value:function(e){this.on("eventCaptured",function(t){return e(t.event,t)})}},{key:"_calculate_event_properties",value:function(e,t,i){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),s=r({},t);if(s.token=this.config.token,"$snapshot"===e){var o=r(r({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,(!E(s.distinct_id)&&!F(s.distinct_id)||T(s.distinct_id))&&z.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var a=t3.properties();if(this.sessionManager){var l=this.sessionManager.checkAndGetSessionAndWindowId(),u=l.sessionId,c=l.windowId;s.$session_id=u,s.$window_id=c}if(this.requestRouter.region===nb.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var h=this.sessionPropsManager.getSessionProps();s=K(s,h)}if(!this.config.disable_scroll_properties){var d={};"$pageview"===e?d=this.pageViewManager.doPageView(i):"$pageleave"===e&&(d=this.pageViewManager.doPageLeave(i)),s=K(s,d)}if("$pageview"===e&&$&&(s.title=$.title),!x(n)){var p=i.getTime()-n;s.$duration=parseFloat((p/1e3).toFixed(3))}q&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=K({},a,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),b(this.config.property_denylist)?X(this.config.property_denylist,function(e){delete s[e]}):z.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var f=this.config.sanitize_properties;return f&&(s=f(s,e)),s.$process_person_profile=this._hasPersonProcessing(),s}},{key:"_calculate_set_once_properties",value:function(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=K({},this.persistence.get_initial_props(),e||{});return S(t)?void 0:t}},{key:"register",value:function(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}},{key:"register_once",value:function(e,t,i){var n;null===(n=this.persistence)||void 0===n||n.register_once(e,t,i)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(u({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"on",value:function(e,t){return this._internalEventEmitter.on(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"renderSurvey",value:function(e,t){this.surveys.renderSurvey(e,t)}},{key:"canRenderSurvey",value:function(e){this.surveys.canRenderSurvey(e)}},{key:"getNextSurveyStep",value:function(e,t,i){return this.surveys.getNextSurveyStep(e,t,i)}},{key:"identify",value:function(e,t,i){if(!this.__loaded||!this.persistence)return z.uninitializedWarning("posthog.identify");if(F(e)&&(e=e.toString(),z.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))z.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var n=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:n},""),e!==n&&e!==this.get_property(eu)&&(this.unregister(eu),this.register({distinct_id:e}));var r="anonymous"===(this.persistence.get_property(eC)||"anonymous");e!==n&&r?(this.persistence.set_property(eC,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:n},{$set:t||{},$set_once:i||{}}),this.featureFlags.setAnonymousDistinctId(n)):(t||i)&&this.setPersonProperties(t,i),e!==n&&(this.reloadFeatureFlags(),this.unregister(eA))}}else z.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,i){if(e&&t){if(this._requirePersonProcessing("posthog.group")){var n=this.getGroups();n[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:r(r({},n),{},u({},e,t))}),i&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags(u({},e,i))),n[e]===t||i||this.reloadFeatureFlags()}}else z.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){if(z.info("reset"),!this.__loaded)return z.uninitializedWarning("posthog.reset");var t,i,n,r,s=this.get_property("$device_id");this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),null===(n=this.persistence)||void 0===n||n.set_property(eC,"anonymous"),null===(r=this.sessionManager)||void 0===r||r.resetSessionId();var o=this.config.get_device_id(eJ());this.register_once({distinct_id:o,$device_id:e?o:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=t.sessionId,n=t.sessionStartTimestamp,r=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(i));if(null!=e&&e.withTimestamp&&n){var s,o=null!==(s=e.timestampLookBack)&&void 0!==s?s:10;if(!n)return r;var a=Math.max(Math.floor(((new Date).getTime()-n)/1e3)-o,0);r+="?t=".concat(a)}return r}},{key:"alias",value:function(e,t){return e===this.get_property(el)?(z.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(x(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(eu,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(z.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}},{key:"set_config",value:function(e){var t,i,n,s,o=r({},this.config);k(e)&&(K(this.config,rs(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,o),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new t6(r(r({},this.config),{},{persistence:"sessionStorage"})),e6.is_supported()&&"true"===e6.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(v.DEBUG=!0,z.info("set_config",{config:e,oldConfig:o,newConfig:r({},this.config)})),null===(i=this.sessionRecording)||void 0===i||i.startIfEnabledOrStop(),null===(n=this.autocapture)||void 0===n||n.startIfEnabled(),null===(s=this.heatmaps)||void 0===s||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(e){var t,i=A(e)&&e;if(i||null!=e&&e.sampling){var n,r,s=null===(n=this.sessionManager)||void 0===n?void 0:n.checkAndGetSessionAndWindowId();null===(r=this.persistence)||void 0===r||r.register(u({},eS,!0)),z.info("Session recording started with sampling override for session: ",null==s?void 0:s.sessionId)}(i||null!=e&&e.linked_flag)&&(null===(t=this.sessionRecording)||void 0===t||t.overrideLinkedFlag(),z.info("Session recording started with linked_flags override")),this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"captureException",value:function(e,t){var i=w(U.parseErrorAsProperties)?U.parseErrorAsProperties([e.message,void 0,void 0,void 0,e]):r({$exception_type:e.name,$exception_message:e.message,$exception_level:"error"},t);this.exceptions.sendExceptionEvent(i)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:ri;return t!==ri&&(t=ri+"."+t),t}},{key:"_isIdentified",value:function(){var e,t;return"identified"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(eC))||"identified"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(eC))}},{key:"_hasPersonProcessing",value:function(){var e,t,i,n;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&S(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[eu])&&(null===(i=this.persistence)||void 0===i||null===(n=i.props)||void 0===n||!n[e$]))}},{key:"_shouldCapturePageleave",value:function(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(e){return"never"===this.config.person_profiles?(z.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(e$,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var e,t,i,n,r=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||r&&!!s;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==o&&(null===(i=this.persistence)||void 0===i||i.set_disabled(o)),(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==o&&(null===(n=this.sessionPersistence)||void 0===n||n.set_disabled(o))}},{key:"opt_in_capturing",value:function(e){var t;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(x(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"_is_bot",value:function(){return L?function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&nz(i,t))return!0;try{var n=null==e?void 0:e.userAgentData;if(null!=n&&n.brands&&n.brands.some(function(e){return nz(null==e?void 0:e.brand,t)}))return!0}catch(e){}return!!e.webdriver}(L,this.config.custom_blocked_useragents):void 0}},{key:"_captureInitialPageview",value:function(){$&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:$.title},{send_instantly:!0}))}},{key:"debug",value:function(e){!1===e?(null==C||C.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==C||C.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=ei(e.prototype[t[i]])}(ra,["identify"]);var rl,ru,rc=(ru=re[ri]=new ra,function(){function e(){e.done||(e.done=!0,rn=!1,X(re,function(e){e._dom_loaded()}))}null!=$&&$.addEventListener&&("complete"===$.readyState?e():$.addEventListener("DOMContentLoaded",e,!1)),C&&eo(C,"load",e,!0)}(),ru)},3782:function(e,t,i){"use strict";i.d(t,{U0:function(){return a},zf:function(){return o}});var n=i(2477),r=i(2265),s=(0,r.createContext)({client:n.ZP});function o(e){var t=e.children,i=e.client,o=e.apiKey,a=e.options,l=(0,r.useMemo)(function(){return(i&&o&&console.warn("[PostHog.js] You have provided both a client and an apiKey to PostHogProvider. The apiKey will be ignored in favour of the client."),i&&a&&console.warn("[PostHog.js] You have provided both a client and options to PostHogProvider. The options will be ignored in favour of the client."),i)?i:(o&&(n.ZP.__loaded&&console.warn("[PostHog.js] was already loaded elsewhere. This may cause issues."),n.ZP.init(o,a)),n.ZP)},[i,o]);return r.createElement(s.Provider,{value:{client:l}},t)}var a=function(){return(0,r.useContext)(s).client}},3398:function(e,t,i){"use strict";var n=i(357);i(6810);var r=i(2265),s=r&&"object"==typeof r&&"default"in r?r:{default:r},o=void 0!==n&&n.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,i=t.name,n=void 0===i?"stylesheet":i,r=t.optimizeForSpeed,s=void 0===r?o:r;u(a(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",u("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,i){return"number"==typeof i?e._serverSheet.cssRules[i]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),i},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(u(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var i=this.getSheet();"number"!=typeof t&&(t=i.cssRules.length);try{i.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var i="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!i.cssRules[e])return e;i.deleteRule(e);try{i.insertRule(t,e)}catch(n){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),i.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];u(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},t.deleteRule=function(e){if("undefined"==typeof window){this._serverSheet.deleteRule(e);return}if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},t.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,i){return i?t=t.concat(Array.prototype.map.call(e.getSheetForTag(i).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,i){t&&u(a(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return i?r.insertBefore(n,i):r.appendChild(n),n},function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},h={};function d(e,t){if(!t)return"jsx-"+e;var i=String(t),n=e+i;return h[n]||(h[n]="jsx-"+c(e+"-"+i)),h[n]}function p(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var i=e+t;return h[i]||(h[i]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[i]}var f=function(){function e(e){var t=void 0===e?{}:e,i=t.styleSheet,n=void 0===i?null:i,r=t.optimizeForSpeed,s=void 0!==r&&r;this._sheet=n||new l({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),n&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var i=this.getIdAndRules(e),n=i.styleId,r=i.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var s=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=s,this._instancesCounts[n]=1},t.remove=function(e){var t=this,i=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(i in this._instancesCounts,"styleId: `"+i+"` not found"),this._instancesCounts[i]-=1,this._instancesCounts[i]<1){var n=this._fromServer&&this._fromServer[i];n?(n.parentNode.removeChild(n),delete this._fromServer[i]):(this._indices[i].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[i]),delete this._instancesCounts[i]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],i=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return i[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,i;return t=this.cssRules(),void 0===(i=e)&&(i={}),t.map(function(e){var t=e[0],n=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:i.nonce?i.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,i=e.dynamic,n=e.id;if(i){var r=d(n,i);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return p(r,e)}):[p(r,t)]}}return{styleId:d(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),v=r.createContext(null);v.displayName="StyleSheetContext";var g=s.default.useInsertionEffect||s.default.useLayoutEffect,m="undefined"!=typeof window?new f:void 0;function y(e){var t=m||r.useContext(v);return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},t.style=y},8059:function(e,t,i){"use strict";e.exports=i(3398).style},7382:function(e,t,i){"use strict";i.d(t,{M:function(){return m}});var n=i(7437),r=i(2265),s=i(8110),o=i(6938),a=i(2283),l=i(6638),u=i(9783);class c extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=e instanceof HTMLElement&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=i-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:i,anchorX:s}=e,o=(0,r.useId)(),a=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,r.useContext)(u._);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:r,right:u}=l.current;if(i||!a.current||!e||!t)return;a.current.dataset.motionPopId=o;let c=document.createElement("style");return h&&(c.nonce=h),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(r):"right: ".concat(u),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[i]),(0,n.jsx)(c,{isPresent:i,childRef:a,sizeRef:l,children:r.cloneElement(t,{ref:a})})}let d=e=>{let{children:t,initial:i,isPresent:s,onExitComplete:a,custom:u,presenceAffectsLayout:c,mode:d,anchorX:f}=e,v=(0,o.h)(p),g=(0,r.useId)(),m=!0,y=(0,r.useMemo)(()=>(m=!1,{id:g,initial:i,isPresent:s,custom:u,onExitComplete:e=>{for(let t of(v.set(e,!0),v.values()))if(!t)return;a&&a()},register:e=>(v.set(e,!1),()=>v.delete(e))}),[s,v,a]);return c&&m&&(y={...y}),(0,r.useMemo)(()=>{v.forEach((e,t)=>v.set(t,!1))},[s]),r.useEffect(()=>{s||v.size||!a||a()},[s]),"popLayout"===d&&(t=(0,n.jsx)(h,{isPresent:s,anchorX:f,children:t})),(0,n.jsx)(l.O.Provider,{value:y,children:t})};function p(){return new Map}var f=i(8051);let v=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let m=e=>{let{children:t,custom:i,initial:l=!0,onExitComplete:u,presenceAffectsLayout:c=!0,mode:h="sync",propagate:p=!1,anchorX:m="left"}=e,[y,_]=(0,f.oO)(p),b=(0,r.useMemo)(()=>g(t),[t]),w=p&&!y?[]:b.map(v),k=(0,r.useRef)(!0),S=(0,r.useRef)(b),x=(0,o.h)(()=>new Map),[E,T]=(0,r.useState)(b),[P,R]=(0,r.useState)(b);(0,a.L)(()=>{k.current=!1,S.current=b;for(let e=0;e<P.length;e++){let t=v(P[e]);w.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[P,w.length,w.join("-")]);let F=[];if(b!==E){let e=[...b];for(let t=0;t<P.length;t++){let i=P[t],n=v(i);w.includes(n)||(e.splice(t,0,i),F.push(i))}return"wait"===h&&F.length&&(e=F),R(g(e)),T(b),null}let{forceRender:A}=(0,r.useContext)(s.p);return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let t=v(e),r=(!p||!!y)&&(b===P||w.includes(t));return(0,n.jsx)(d,{isPresent:r,initial:(!k.current||!!l)&&void 0,custom:i,presenceAffectsLayout:c,mode:h,onExitComplete:r?void 0:()=>{if(!x.has(t))return;x.set(t,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(null==A||A(),R(S.current),p&&(null==_||_()),u&&u())},anchorX:m,children:e},t)})})}},8051:function(e,t,i){"use strict";i.d(t,{oO:function(){return s}});var n=i(2265),r=i(6638);function s(e=!0){let t=(0,n.useContext)(r.O);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:s,register:o}=t,a=(0,n.useId)();(0,n.useEffect)(()=>{if(e)return o(a)},[e]);let l=(0,n.useCallback)(()=>e&&s&&s(a),[a,s,e]);return!i&&s?[!1,l]:[!0]}},8110:function(e,t,i){"use strict";i.d(t,{p:function(){return n}});let n=(0,i(2265).createContext)({})},9783:function(e,t,i){"use strict";i.d(t,{_:function(){return n}});let n=(0,i(2265).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},6638:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});let n=(0,i(2265).createContext)(null)},4273:function(e,t,i){"use strict";let n;function r(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function s(e){let t=[{},{}];return e?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function o(e,t,i,n){if("function"==typeof t){let[r,o]=s(n);t=t(void 0!==i?i:e.custom,r,o)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,o]=s(n);t=t(void 0!==i?i:e.custom,r,o)}return t}function a(e,t,i){let n=e.getProps();return o(n,t,void 0!==i?i:n.custom,e)}i.d(t,{yK:function(){return sT}});let l=e=>Array.isArray(e),u=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],c={value:null,addProjectionMetrics:null},h={};function d(e,t){let i=!1,n=!0,r={delta:0,timestamp:0,isProcessing:!1},s=()=>i=!0,o=u.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,n=new Set,r=!1,s=!1,o=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){o.has(t)&&(h.schedule(t),e()),l++,t(a)}let h={schedule:(e,t=!1,s=!1)=>{let a=s&&r?i:n;return t&&o.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{if(a=e,r){s=!0;return}r=!0,[i,n]=[n,i],i.forEach(u),t&&c.value&&c.value.frameloop[t].push(l),l=0,i.clear(),r=!1,s&&(s=!1,h.process(e))}};return h}(s,t?i:void 0),e),{}),{setup:a,read:l,resolveKeyframes:d,preUpdate:p,update:f,preRender:v,render:g,postRender:m}=o,y=()=>{let s=h.useManualTiming?r.timestamp:performance.now();i=!1,h.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(s-r.timestamp,40),1)),r.timestamp=s,r.isProcessing=!0,a.process(r),l.process(r),d.process(r),p.process(r),f.process(r),v.process(r),g.process(r),m.process(r),r.isProcessing=!1,i&&t&&(n=!1,e(y))},_=()=>{i=!0,n=!0,r.isProcessing||e(y)};return{schedule:u.reduce((e,t)=>{let n=o[t];return e[t]=(e,t=!1,r=!1)=>(i||_(),n.schedule(e,t,r)),e},{}),cancel:e=>{for(let t=0;t<u.length;t++)o[u[t]].cancel(e)},state:r,steps:o}}let p=e=>e,{schedule:f,cancel:v,state:g,steps:m}=d("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:p,!0);function y(){n=void 0}let _={now:()=>(void 0===n&&_.set(g.isProcessing||h.useManualTiming?g.timestamp:performance.now()),n),set:e=>{n=e,queueMicrotask(y)}};function b(e,t){-1===e.indexOf(t)&&e.push(t)}function w(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class k{constructor(){this.subscriptions=[]}add(e){return b(this.subscriptions,e),()=>w(this.subscriptions,e)}notify(e,t,i){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](e,t,i);else for(let r=0;r<n;r++){let n=this.subscriptions[r];n&&n(e,t,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let S=e=>!isNaN(parseFloat(e)),x={current:void 0};class E{constructor(e,t={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let i=_.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change?.notify(this.current),t&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=_.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=S(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new k);let i=this.events[e].add(t);return"change"===e?()=>{i(),f.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return x.current&&x.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=_.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function T(e,t){return new E(e,t)}let P=e=>!!(e&&e.getVelocity);function R(e,t){let i=e.getValue("willChange");if(P(i)&&i.add)return i.add(t);if(!i&&h.WillChange){let i=new h.WillChange("auto");e.addValue("willChange",i),i.add(t)}}let F=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A="data-"+F("framerAppearId"),C=e=>null!==e,I=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],M=new Set(I),D={type:"spring",stiffness:500,damping:25,restSpeed:10},O=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),L={type:"keyframes",duration:.8},$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V=(e,{keyframes:t})=>t.length>2?L:M.has(e)?e.startsWith("scale")?O(t[1]):D:$;function j(e,t){return e?.[t]??e?.default??e}let B=e=>1e3*e,N=e=>e/1e3,q={layout:0,mainThread:0,waapi:0},U=e=>t=>"string"==typeof t&&t.startsWith(e),H=U("--"),z=U("var(--"),W=e=>!!z(e)&&G.test(e.split("/*")[0].trim()),G=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Y=(e,t,i)=>i>t?t:i<e?e:i,X={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},K={...X,transform:e=>Y(0,1,e)},Z={...X,default:1},Q=e=>Math.round(1e5*e)/1e5,J=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,et=(e,t)=>i=>!!("string"==typeof i&&ee.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),ei=(e,t,i)=>n=>{if("string"!=typeof n)return n;let[r,s,o,a]=n.match(J);return{[e]:parseFloat(r),[t]:parseFloat(s),[i]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},en=e=>Y(0,255,e),er={...X,transform:e=>Math.round(en(e))},es={test:et("rgb","red"),parse:ei("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:n=1})=>"rgba("+er.transform(e)+", "+er.transform(t)+", "+er.transform(i)+", "+Q(K.transform(n))+")"},eo={test:et("#"),parse:function(e){let t="",i="",n="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}},transform:es.transform},ea=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),el=ea("deg"),eu=ea("%"),ec=ea("px"),eh=ea("vh"),ed=ea("vw"),ep={...eu,parse:e=>eu.parse(e)/100,transform:e=>eu.transform(100*e)},ef={test:et("hsl","hue"),parse:ei("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:n=1})=>"hsla("+Math.round(e)+", "+eu.transform(Q(t))+", "+eu.transform(Q(i))+", "+Q(K.transform(n))+")"},ev={test:e=>es.test(e)||eo.test(e)||ef.test(e),parse:e=>es.test(e)?es.parse(e):ef.test(e)?ef.parse(e):eo.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?es.transform(e):ef.transform(e)},eg=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,em="number",ey="color",e_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eb(e){let t=e.toString(),i=[],n={color:[],number:[],var:[]},r=[],s=0,o=t.replace(e_,e=>(ev.test(e)?(n.color.push(s),r.push(ey),i.push(ev.parse(e))):e.startsWith("var(")?(n.var.push(s),r.push("var"),i.push(e)):(n.number.push(s),r.push(em),i.push(parseFloat(e))),++s,"${}")).split("${}");return{values:i,split:o,indexes:n,types:r}}function ew(e){return eb(e).values}function ek(e){let{split:t,types:i}=eb(e),n=t.length;return e=>{let r="";for(let s=0;s<n;s++)if(r+=t[s],void 0!==e[s]){let t=i[s];t===em?r+=Q(e[s]):t===ey?r+=ev.transform(e[s]):r+=e[s]}return r}}let eS=e=>"number"==typeof e?0:e,ex={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(J)?.length||0)+(e.match(eg)?.length||0)>0},parse:ew,createTransformer:ek,getAnimatableNone:function(e){let t=ew(e);return ek(e)(t.map(eS))}};function eE(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function eT(e,t){return i=>i>0?t:e}let eP=(e,t,i)=>e+(t-e)*i,eR=()=>{},eF=()=>{},eA=(e,t,i)=>{let n=e*e,r=i*(t*t-n)+n;return r<0?0:Math.sqrt(r)},eC=[eo,es,ef],eI=e=>eC.find(t=>t.test(e));function eM(e){let t=eI(e);if(eR(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let i=t.parse(e);return t===ef&&(i=function({hue:e,saturation:t,lightness:i,alpha:n}){e/=360,i/=100;let r=0,s=0,o=0;if(t/=100){let n=i<.5?i*(1+t):i+t-i*t,a=2*i-n;r=eE(a,n,e+1/3),s=eE(a,n,e),o=eE(a,n,e-1/3)}else r=s=o=i;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*o),alpha:n}}(i)),i}let eD=(e,t)=>{let i=eM(e),n=eM(t);if(!i||!n)return eT(e,t);let r={...i};return e=>(r.red=eA(i.red,n.red,e),r.green=eA(i.green,n.green,e),r.blue=eA(i.blue,n.blue,e),r.alpha=eP(i.alpha,n.alpha,e),es.transform(r))},eO=new Set(["none","hidden"]),eL=(e,t)=>i=>t(e(i)),e$=(...e)=>e.reduce(eL);function eV(e,t){return i=>eP(e,t,i)}function ej(e){return"number"==typeof e?eV:"string"==typeof e?W(e)?eT:ev.test(e)?eD:eq:Array.isArray(e)?eB:"object"==typeof e?ev.test(e)?eD:eN:eT}function eB(e,t){let i=[...e],n=i.length,r=e.map((e,i)=>ej(e)(e,t[i]));return e=>{for(let t=0;t<n;t++)i[t]=r[t](e);return i}}function eN(e,t){let i={...e,...t},n={};for(let r in i)void 0!==e[r]&&void 0!==t[r]&&(n[r]=ej(e[r])(e[r],t[r]));return e=>{for(let t in n)i[t]=n[t](e);return i}}let eq=(e,t)=>{let i=ex.createTransformer(t),n=eb(e),r=eb(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?eO.has(e)&&!r.values.length||eO.has(t)&&!n.values.length?eO.has(e)?i=>i<=0?e:t:i=>i>=1?t:e:e$(eB(function(e,t){let i=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let s=t.types[r],o=e.indexes[s][n[s]],a=e.values[o]??0;i[r]=a,n[s]++}return i}(n,r),r.values),i):(eR(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eT(e,t))};function eU(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?eP(e,t,i):ej(e)(e,t)}let eH=e=>{let t=({timestamp:t})=>e(t);return{start:()=>f.update(t,!0),stop:()=>v(t),now:()=>g.isProcessing?g.timestamp:_.now()}},ez=(e,t,i=10)=>{let n="",r=Math.max(Math.round(t/i),2);for(let t=0;t<r;t++)n+=e(t/(r-1))+", ";return`linear(${n.substring(0,n.length-2)})`};function eW(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}function eG(e,t,i){var n,r;let s=Math.max(t-5,0);return n=i-e(s),(r=t-s)?1e3/r*n:0}let eY={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function eX(e,t){return e*Math.sqrt(1-t*t)}let eK=["duration","bounce"],eZ=["stiffness","damping","mass"];function eQ(e,t){return t.some(t=>void 0!==e[t])}function eJ(e=eY.visualDuration,t=eY.bounce){let i;let n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:s}=n,o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:eY.velocity,stiffness:eY.stiffness,damping:eY.damping,mass:eY.mass,isResolvedFromDuration:!1,...e};if(!eQ(e,eZ)&&eQ(e,eK)){if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),n=i*i,r=2*Y(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:eY.mass,stiffness:n,damping:r}}else{let i=function({duration:e=eY.duration,bounce:t=eY.bounce,velocity:i=eY.velocity,mass:n=eY.mass}){let r,s;eR(e<=B(eY.maxDuration),"Spring duration must be 10 seconds or less");let o=1-t;o=Y(eY.minDamping,eY.maxDamping,o),e=Y(eY.minDuration,eY.maxDuration,N(e)),o<1?(r=t=>{let n=t*o,r=n*e;return .001-(n-i)/eX(t,o)*Math.exp(-r)},s=t=>{let n=t*o*e,s=Math.pow(o,2)*Math.pow(t,2)*e,a=Math.exp(-n),l=eX(Math.pow(t,2),o);return(n*i+i-s)*a*(-r(t)+.001>0?-1:1)/l}):(r=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),s=t=>e*e*(i-t)*Math.exp(-t*e));let a=function(e,t,i){let n=i;for(let i=1;i<12;i++)n-=e(n)/t(n);return n}(r,s,5/e);if(e=B(e),isNaN(a))return{stiffness:eY.stiffness,damping:eY.damping,duration:e};{let t=Math.pow(a,2)*n;return{stiffness:t,damping:2*o*Math.sqrt(n*t),duration:e}}}(e);(t={...t,...i,mass:eY.mass}).isResolvedFromDuration=!0}}return t}({...n,velocity:-N(n.velocity||0)}),v=p||0,g=c/(2*Math.sqrt(u*h)),m=a-o,y=N(Math.sqrt(u/h)),_=5>Math.abs(m);if(r||(r=_?eY.restSpeed.granular:eY.restSpeed.default),s||(s=_?eY.restDelta.granular:eY.restDelta.default),g<1){let e=eX(y,g);i=t=>a-Math.exp(-g*y*t)*((v+g*y*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}else if(1===g)i=e=>a-Math.exp(-y*e)*(m+(v+y*m)*e);else{let e=y*Math.sqrt(g*g-1);i=t=>{let i=Math.exp(-g*y*t),n=Math.min(e*t,300);return a-i*((v+g*y*m)*Math.sinh(n)+e*m*Math.cosh(n))/e}}let b={calculatedDuration:f&&d||null,next:e=>{let t=i(e);if(f)l.done=e>=d;else{let n=0===e?v:0;g<1&&(n=0===e?B(v):eG(i,e,t));let o=Math.abs(n)<=r,u=Math.abs(a-t)<=s;l.done=o&&u}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(eW(b),2e4),t=ez(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function e0({keyframes:e,velocity:t=0,power:i=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){let h,d;let p=e[0],f={done:!1,value:p},v=e=>void 0!==a&&e<a||void 0!==l&&e>l,g=e=>void 0===a?l:void 0===l?a:Math.abs(a-e)<Math.abs(l-e)?a:l,m=i*t,y=p+m,_=void 0===o?y:o(y);_!==y&&(m=_-p);let b=e=>-m*Math.exp(-e/n),w=e=>_+b(e),k=e=>{let t=b(e),i=w(e);f.done=Math.abs(t)<=u,f.value=f.done?_:i},S=e=>{v(f.value)&&(h=e,d=eJ({keyframes:[f.value,g(f.value)],velocity:eG(w,e,f.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,k(e),S(e)),void 0!==h&&e>=h)?d.next(e-h):(t||k(e),f)}}}eJ.applyToOptions=e=>{let t=function(e,t=100,i){let n=i({...e,keyframes:[0,t]}),r=Math.min(eW(n),2e4);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:N(r)}}(e,100,eJ);return e.ease=t.ease,e.duration=B(t.duration),e.type="keyframes",e};let e1=(e,t,i)=>{let n=t-e;return 0===n?1:(i-e)/n},e2=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function e3(e,t,i,n){if(e===t&&i===n)return p;let r=t=>(function(e,t,i,n,r){let s,o;let a=0;do(s=e2(o=t+(i-t)/2,n,r)-e)>0?i=o:t=o;while(Math.abs(s)>1e-7&&++a<12);return o})(t,0,1,e,i);return e=>0===e||1===e?e:e2(r(e),t,n)}let e5=e3(.42,0,1,1),e6=e3(0,0,.58,1),e8=e3(.42,0,.58,1),e4=e=>Array.isArray(e)&&"number"!=typeof e[0],e9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e7=e=>t=>1-e(1-t),te=e3(.33,1.53,.69,.99),tt=e7(te),ti=e9(tt),tn=e=>(e*=2)<1?.5*tt(e):.5*(2-Math.pow(2,-10*(e-1))),tr=e=>1-Math.sin(Math.acos(e)),ts=e7(tr),to=e9(tr),ta=e=>Array.isArray(e)&&"number"==typeof e[0],tl={linear:p,easeIn:e5,easeInOut:e8,easeOut:e6,circIn:tr,circInOut:to,circOut:ts,backIn:tt,backInOut:ti,backOut:te,anticipate:tn},tu=e=>"string"==typeof e,tc=e=>{if(ta(e)){eF(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,i,n,r]=e;return e3(t,i,n,r)}return tu(e)?(eF(void 0!==tl[e],`Invalid easing type '${e}'`),tl[e]):e};function th({duration:e=300,keyframes:t,times:i,ease:n="easeInOut"}){let r=e4(n)?n.map(tc):tc(n),s={done:!1,value:t[0]},o=function(e,t,{clamp:i=!0,ease:n,mixer:r}={}){let s=e.length;if(eF(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,i){let n=[],r=i||h.mix||eU,s=e.length-1;for(let i=0;i<s;i++){let s=r(e[i],e[i+1]);t&&(s=e$(Array.isArray(t)?t[i]||p:t,s)),n.push(s)}return n}(t,n,r),l=a.length,u=i=>{if(o&&i<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(i<e[n+1]);n++);let r=e1(e[n],e[n+1],i);return a[n](r)};return i?t=>u(Y(e[0],e[s-1],t)):u}((i&&i.length===t.length?i:function(e){let t=[0];return function(e,t){let i=e[e.length-1];for(let n=1;n<=t;n++){let r=e1(0,t,n);e.push(eP(i,1,r))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(r)?r:t.map(()=>r||e8).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}let td=e=>null!==e;function tp(e,{repeat:t,repeatType:i="loop"},n,r=1){let s=e.filter(td),o=r<0||t&&"loop"!==i&&t%2==1?0:s.length-1;return o&&void 0!==n?n:s[o]}let tf={decay:e0,inertia:e0,tween:th,keyframes:th,spring:eJ};function tv(e){"string"==typeof e.type&&(e.type=tf[e.type])}class tg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let tm=e=>e/100;class ty extends tg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;if(e&&e.updatedAt!==_.now()&&this.tick(_.now()),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()},q.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;tv(e);let{type:t=th,repeat:i=0,repeatDelay:n=0,repeatType:r,velocity:s=0}=e,{keyframes:o}=e,a=t||th;a!==th&&"number"!=typeof o[0]&&(this.mixKeyframes=e$(tm,eU(o[0],o[1])),o=[0,100]);let l=a({...e,keyframes:o});"mirror"===r&&(this.mirroredGenerator=a({...e,keyframes:[...o].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=eW(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(i+1)-n,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:i,totalDuration:n,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return i.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let y=this.currentTime,_=i;if(c){let e=Math.min(this.currentTime,n)/o,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,c+1))%2&&("reverse"===h?(i=1-i,d&&(i-=d/o)):"mirror"===h&&(_=s)),y=Y(0,1,i)*o}let b=m?{done:!1,value:u[0]}:_.next(y);r&&(b.value=r(b.value));let{done:w}=b;m||null===a||(w=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);let k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==e0&&(b.value=tp(u,this.options,v,this.speed)),f&&f(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return N(this.calculatedDuration)}get time(){return N(this.currentTime)}set time(e){e=B(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=N(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=eH,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=i??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,q.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}let t_=e=>180*e/Math.PI,tb=e=>tk(t_(Math.atan2(e[1],e[0]))),tw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tb,rotateZ:tb,skewX:e=>t_(Math.atan(e[1])),skewY:e=>t_(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tk=e=>((e%=360)<0&&(e+=360),e),tS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tS,scaleY:tx,scale:e=>(tS(e)+tx(e))/2,rotateX:e=>tk(t_(Math.atan2(e[6],e[5]))),rotateY:e=>tk(t_(Math.atan2(-e[2],e[0]))),rotateZ:tb,rotate:tb,skewX:e=>t_(Math.atan(e[4])),skewY:e=>t_(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tT(e){return e.includes("scale")?1:0}function tP(e,t){let i,n;if(!e||"none"===e)return tT(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)i=tE,n=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=tw,n=t}if(!n)return tT(t);let s=i[t],o=n[1].split(",").map(tF);return"function"==typeof s?s(o):o[s]}let tR=(e,t)=>{let{transform:i="none"}=getComputedStyle(e);return tP(i,t)};function tF(e){return parseFloat(e.trim())}let tA=e=>e===X||e===ec,tC=new Set(["x","y","z"]),tI=I.filter(e=>!tC.has(e)),tM={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>tP(t,"x"),y:(e,{transform:t})=>tP(t,"y")};tM.translateX=tM.x,tM.translateY=tM.y;let tD=new Set,tO=!1,tL=!1,t$=!1;function tV(){if(tL){let e=Array.from(tD).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t=function(e){let t=[];return tI.forEach(i=>{let n=e.getValue(i);void 0!==n&&(t.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))}),t}(e);t.length&&(i.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{e.getValue(t)?.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}tL=!1,tO=!1,tD.forEach(e=>e.complete(t$)),tD.clear()}function tj(){tD.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tL=!0)})}class tB{constructor(e,t,i,n,r,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=n,this.element=r,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tD.add(this),tO||(tO=!0,f.read(tj),f.resolveKeyframes(tV))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:n}=this;if(null===e[0]){let r=n?.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(i&&t){let n=i.readValue(t,s);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=s),n&&void 0===r&&n.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tD.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tD.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let tN=e=>e.startsWith("--");function tq(e){let t;return()=>(void 0===t&&(t=e()),t)}let tU=tq(()=>void 0!==window.ScrollTimeline),tH={},tz=function(e,t){let i=tq(e);return()=>tH[t]??i()}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),tW=([e,t,i,n])=>`cubic-bezier(${e}, ${t}, ${i}, ${n})`,tG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tW([0,.65,.55,1]),circOut:tW([.55,0,1,.45]),backIn:tW([.31,.01,.66,-.59]),backOut:tW([.33,1.53,.69,.99])};function tY(e){return"function"==typeof e&&"applyToOptions"in e}class tX extends tg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:i,keyframes:n,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=e,eF("string"!=typeof e.type,'animateMini doesn\'t support "type" as a string. Did you mean to import { spring } from "motion"?');let l=function({type:e,...t}){return tY(e)&&tz()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,i,{delay:n=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u){let h={[t]:i};l&&(h.offset=l);let d=function e(t,i){if(t)return"function"==typeof t?tz()?ez(t,i):"ease-out":ta(t)?tW(t):Array.isArray(t)?t.map(t=>e(t,i)||tG.easeOut):tG[t]}(a,r);Array.isArray(d)&&(h.easing=d),c.value&&q.waapi++;let p={delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};u&&(p.pseudoElement=u);let f=e.animate(h,p);return c.value&&f.finished.finally(()=>{q.waapi--}),f}(t,i,n,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=tp(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):tN(i)?t.style.setProperty(i,e):t.style[i]=e,this.animation.cancel()}a?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return N(Number(this.animation.effect?.getComputedTiming?.().duration||0))}get time(){return N(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=B(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tU())?(this.animation.timeline=e,p):t(this)}}let tK={anticipate:tn,backInOut:ti,circInOut:to};class tZ extends tX{constructor(e){"string"==typeof e.ease&&e.ease in tK&&(e.ease=tK[e.ease]),tv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:i,onComplete:n,element:r,...s}=this.options;if(!t)return;if(void 0!==e){t.set(e);return}let o=new ty({...s,autoplay:!1}),a=B(this.finishedTime??this.time);t.setWithVelocity(o.sample(a-10).value,o.sample(a).value,10),o.stop()}}let tQ=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ex.test(e)||"0"===e)&&!e.startsWith("url(")),tJ=new Set(["opacity","clipPath","filter","transform"]),t0=tq(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class t1 extends tg{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s="loop",keyframes:o,name:a,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=_.now();let h={autoplay:e,delay:t,type:i,repeat:n,repeatDelay:r,repeatType:s,name:a,motionValue:l,element:u,...c},d=u?.KeyframeResolver||tB;this.keyframeResolver=new d(o,(e,t,i)=>this.onKeyframesResolved(e,t,h,!i),a,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,n){this.keyframeResolver=void 0;let{name:r,type:s,velocity:o,delay:a,isHandoff:l,onUpdate:u}=i;this.resolvedAt=_.now(),!function(e,t,i,n){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],o=tQ(r,t),a=tQ(s,t);return eR(o===a,`You are trying to animate ${t} from "${r}" to "${s}". ${r} is not an animatable value - to enable this animation set ${r} to a value animatable to ${s} via the \`style\` property.`),!!o&&!!a&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||tY(i))&&n)}(e,r,s,o)&&((h.instantAnimations||!a)&&u?.(tp(e,i,t)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);let c={startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},d=!l&&function(e){let{motionValue:t,name:i,repeatDelay:n,repeatType:r,damping:s,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:l}=t.owner.getProps();return t0()&&i&&tJ.has(i)&&("transform"!==i||!l)&&!a&&!n&&"mirror"!==r&&0!==s&&"inertia"!==o}(c)?new tZ({...c,element:c.motionValue.owner.current}):new ty(c);d.finished.then(()=>this.notifyFinished()).catch(p),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(t$=!0,tj(),tV(),t$=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}let t2=(e,t,i,n={},r,s)=>o=>{let a=j(n,e)||{},l=a.delay||n.delay||0,{elapsed:u=0}=n;u-=B(l);let c={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};!function({when:e,delay:t,delayChildren:i,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(a)&&Object.assign(c,V(e,c)),c.duration&&(c.duration=B(c.duration)),c.repeatDelay&&(c.repeatDelay=B(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(c.duration=0,0!==c.delay||(d=!0)),(h.instantAnimations||h.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:i="loop"},n){let r=e.filter(C),s=t&&"loop"!==i&&t%2==1?0:r.length-1;return r[s]}(c.keyframes,a);if(void 0!==e){f.update(()=>{c.onUpdate(e),c.onComplete()});return}}return new t1(c)},t3=new Set(["width","height","top","left","right","bottom",...I]);function t5(e,t,{delay:i=0,transitionOverride:n,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...u}=t;n&&(s=n);let c=[],h=r&&e.animationState&&e.animationState.getState()[r];for(let t in u){let n=e.getValue(t,e.latestValues[t]??null),r=u[t];if(void 0===r||h&&function({protectedKeys:e,needsAnimating:t},i){let n=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,n}(h,t))continue;let o={delay:i,...j(s||{},t)},a=n.get();if(void 0!==a&&!n.isAnimating&&!Array.isArray(r)&&r===a&&!o.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){let i=e.props[A];if(i){let e=window.MotionHandoffAnimation(i,t,f);null!==e&&(o.startTime=e,l=!0)}}R(e,t),n.start(t2(t,n,r,e.shouldReduceMotion&&t3.has(t)?{type:!1}:o,e,l));let d=n.animation;d&&c.push(d)}return o&&Promise.all(c).then(()=>{f.update(()=>{o&&function(e,t){let{transitionEnd:i={},transition:n={},...r}=a(e,t)||{};for(let t in r={...r,...i}){var s;let i=l(s=r[t])?s[s.length-1]||0:s;e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,T(i))}}(e,o)})}),c}function t6(e,t,i={}){let n=a(e,t,"exit"===i.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(r=i.transitionOverride);let s=n?()=>Promise.all(t5(e,n,i)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(n=0)=>{let{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=r;return function(e,t,i=0,n=0,r=1,s){let o=[],a=(e.variantChildren.size-1)*n,l=1===r?(e=0)=>e*n:(e=0)=>a-e*n;return Array.from(e.variantChildren).sort(t8).forEach((e,n)=>{e.notify("AnimationStart",t),o.push(t6(e,t,{...s,delay:i+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,s+n,o,a,i)}:()=>Promise.resolve(),{when:l}=r;if(!l)return Promise.all([s(),o(i.delay)]);{let[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}}function t8(e,t){return e.sortNodePosition(t)}function t4(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function t9(e){return"string"==typeof e||Array.isArray(e)}let t7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ie=["initial",...t7],it=ie.length,ii=[...t7].reverse(),ir=t7.length;function is(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function io(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}class il extends ia{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>t6(e,t,i)));else if("string"==typeof t)n=t6(e,t,i);else{let r="function"==typeof t?a(e,t,i.custom):t;n=Promise.all(t5(e,r,i))}return n.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=io(),n=!0,s=t=>(i,n)=>{let r=a(e,n,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...n}=r;i={...i,...n,...t}}return i};function o(o){let{props:u}=e,c=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<it;e++){let n=ie[e],r=t.props[n];(t9(r)||!1===r)&&(i[n]=r)}return i}(e.parent)||{},h=[],d=new Set,p={},f=1/0;for(let t=0;t<ir;t++){var v;let a=ii[t],g=i[a],m=void 0!==u[a]?u[a]:c[a],y=t9(m),_=a===o?g.isActive:null;!1===_&&(f=t);let b=m===c[a]&&m!==u[a]&&y;if(b&&n&&e.manuallyAnimateOnMount&&(b=!1),g.protectedKeys={...p},!g.isActive&&null===_||!m&&!g.prevProp||r(m)||"boolean"==typeof m)continue;let w=(v=g.prevProp,"string"==typeof m?m!==v:!!Array.isArray(m)&&!t4(m,v)),k=w||a===o&&g.isActive&&!b&&y||t>f&&y,S=!1,x=Array.isArray(m)?m:[m],E=x.reduce(s(a),{});!1===_&&(E={});let{prevResolvedValues:T={}}=g,P={...T,...E},R=t=>{k=!0,d.has(t)&&(S=!0,d.delete(t)),g.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in P){let t=E[e],i=T[e];if(!p.hasOwnProperty(e))(l(t)&&l(i)?t4(t,i):t===i)?void 0!==t&&d.has(e)?R(e):g.protectedKeys[e]=!0:null!=t?R(e):d.add(e)}g.prevProp=m,g.prevResolvedValues=E,g.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(k=!1);let F=!(b&&w)||S;k&&F&&h.push(...x.map(e=>({animation:e,options:{type:a}})))}if(d.size){let t={};if("boolean"!=typeof u.initial){let i=a(e,Array.isArray(u.initial)?u.initial[0]:u.initial);i&&i.transition&&(t.transition=i.transition)}d.forEach(i=>{let n=e.getBaseTarget(i),r=e.getValue(i);r&&(r.liveStyle=!0),t[i]=n??null}),h.push({animation:t})}let g=!!h.length;return n&&(!1===u.initial||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}return{animateChanges:o,setActive:function(t,n){if(i[t].isActive===n)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,n)),i[t].isActive=n;let r=o(t);for(let e in i)i[e].protectedKeys={};return r},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=io(),n=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();r(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iu=0;class ic extends ia{constructor(){super(...arguments),this.id=iu++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}function ih(e,t,i,n={passive:!0}){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i)}let id=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function ip(e){return{point:{x:e.pageX,y:e.pageY}}}let iv=e=>t=>id(t)&&e(t,ip(t));function ig(e,t,i,n){return ih(e,t,iv(i),n)}function im({top:e,left:t,right:i,bottom:n}){return{x:{min:t,max:i},y:{min:e,max:n}}}function iy(e){return e.max-e.min}function i_(e,t,i,n=.5){e.origin=n,e.originPoint=eP(t.min,t.max,e.origin),e.scale=iy(i)/iy(t),e.translate=eP(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ib(e,t,i,n){i_(e.x,t.x,i.x,n?n.originX:void 0),i_(e.y,t.y,i.y,n?n.originY:void 0)}function iw(e,t,i){e.min=i.min+t.min,e.max=e.min+iy(t)}function ik(e,t,i){e.min=t.min-i.min,e.max=e.min+iy(t)}function iS(e,t,i){ik(e.x,t.x,i.x),ik(e.y,t.y,i.y)}let ix=()=>({translate:0,scale:1,origin:0,originPoint:0}),iE=()=>({x:ix(),y:ix()}),iT=()=>({min:0,max:0}),iP=()=>({x:iT(),y:iT()});function iR(e){return[e("x"),e("y")]}function iF(e){return void 0===e||1===e}function iA({scale:e,scaleX:t,scaleY:i}){return!iF(e)||!iF(t)||!iF(i)}function iC(e){return iA(e)||iI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iI(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function iM(e,t,i,n,r){return void 0!==r&&(e=n+r*(e-n)),n+i*(e-n)+t}function iD(e,t=0,i=1,n,r){e.min=iM(e.min,t,i,n,r),e.max=iM(e.max,t,i,n,r)}function iO(e,{x:t,y:i}){iD(e.x,t.translate,t.scale,t.originPoint),iD(e.y,i.translate,i.scale,i.originPoint)}function iL(e,t){e.min=e.min+t,e.max=e.max+t}function i$(e,t,i,n,r=.5){let s=eP(e.min,e.max,r);iD(e,t,i,s,n)}function iV(e,t){i$(e.x,t.x,t.scaleX,t.scale,t.originX),i$(e.y,t.y,t.scaleY,t.scale,t.originY)}function ij(e,t){return im(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}let iB=({current:e})=>e?e.ownerDocument.defaultView:null;function iN(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let iq=(e,t)=>Math.abs(e-t);class iU{constructor(e,t,{transformPagePoint:i,contextWindow:n,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=iW(this.lastMoveEventInfo,this.history),n=null!==this.startEvent,r=(e=i.offset,t={x:0,y:0},Math.sqrt(iq(e.x,t.x)**2+iq(e.y,t.y)**2)>=3);if(!n&&!r)return;let{point:s}=i,{timestamp:o}=g;this.history.push({...s,timestamp:o});let{onStart:a,onMove:l}=this.handlers;n||(a&&a(this.lastMoveEvent,i),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,i)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=iH(t,this.transformPagePoint),f.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:n,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=iW("pointercancel"===e.type?this.lastMoveEventInfo:iH(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,s),n&&n(e,s)},!id(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=n||window;let s=iH(ip(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=g;this.history=[{...o,timestamp:a}];let{onSessionStart:l}=t;l&&l(e,iW(s,this.history)),this.removeListeners=e$(ig(this.contextWindow,"pointermove",this.handlePointerMove),ig(this.contextWindow,"pointerup",this.handlePointerUp),ig(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),v(this.updatePoint)}}function iH(e,t){return t?{point:t(e.point)}:e}function iz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iW({point:e},t){return{point:e,delta:iz(e,iG(t)),offset:iz(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,n=null,r=iG(e);for(;i>=0&&(n=e[i],!(r.timestamp-n.timestamp>B(.1)));)i--;if(!n)return{x:0,y:0};let s=N(r.timestamp-n.timestamp);if(0===s)return{x:0,y:0};let o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}(t,0)}}function iG(e){return e[e.length-1]}function iY(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function iX(e,t){let i=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,n]=[n,i]),{min:i,max:n}}function iK(e,t,i){return{min:iZ(e,t),max:iZ(e,i)}}function iZ(e,t){return"number"==typeof e?e:e[t]||0}let iQ={x:!1,y:!1},iJ=new WeakMap;class i0{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iP(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:n}=this.getProps();this.panSession=new iU(e,{onSessionStart:e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ip(e).point)},onStart:(e,t)=>{let{drag:i,dragPropagation:n,onDragStart:r}=this.getProps();if(i&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===i||"y"===i?iQ[i]?null:(iQ[i]=!0,()=>{iQ[i]=!1}):iQ.x||iQ.y?null:(iQ.x=iQ.y=!0,()=>{iQ.x=iQ.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iR(e=>{let t=this.getAxisMotionValue(e).get()||0;if(eu.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let n=i.layout.layoutBox[e];if(n){let e=iy(n);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),r&&f.postRender(()=>r(e,t)),R(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:i,dragDirectionLock:n,onDirectionLock:r,onDrag:s}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:o}=t;if(n&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(o),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>iR(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:iB(this.visualElement)})}stop(e,t){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:n}=t;this.startAnimation(n);let{onDragEnd:r}=this.getProps();r&&f.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:n}=this.getProps();if(!i||!i1(e,n,this.currentDirection))return;let r=this.getAxisMotionValue(e),s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:i},n){return void 0!==t&&e<t?e=n?eP(t,e,n.min):Math.max(e,t):void 0!==i&&e>i&&(e=n?eP(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;e&&iN(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(e,{top:t,left:i,bottom:n,right:r}){return{x:iY(e.x,i,r),y:iY(e.y,t,n)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:iK(e,"left","right"),y:iK(e,"top","bottom")}}(t),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&iR(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!iN(t))return!1;let n=t.current;eF(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let s=function(e,t,i){let n=ij(e,i),{scroll:r}=t;return r&&(iL(n.x,r.offset.x),iL(n.y,r.offset.y)),n}(n,r.root,this.visualElement.getTransformPagePoint()),o={x:iX((e=r.layout.layoutBox).x,s.x),y:iX(e.y,s.y)};if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=im(e))}return o}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:n,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{};return Promise.all(iR(o=>{if(!i1(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[o]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(o,u)})).then(o)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return R(this.visualElement,e),i.start(t2(e,i,0,t,this.visualElement,!1))}stopAnimation(){iR(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){iR(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){iR(t=>{let{drag:i}=this.getProps();if(!i1(t,i,this.currentDirection))return;let{projection:n}=this.visualElement,r=this.getAxisMotionValue(t);if(n&&n.layout){let{min:i,max:s}=n.layout.layoutBox[t];r.set(e[t]-eP(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!iN(t)||!i||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};iR(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let i=t.get();n[e]=function(e,t){let i=.5,n=iy(e),r=iy(t);return r>n?i=e1(t.min,t.max-n,e.min):n>r&&(i=e1(e.min,e.max-r,t.min)),Y(0,1,i)}({min:i,max:i},this.constraints[e])}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),iR(t=>{if(!i1(t,e,null))return;let i=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];i.set(eP(r,s,n[t]))})}addListeners(){if(!this.visualElement.current)return;iJ.set(this.visualElement,this);let e=ig(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();iN(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),f.read(t);let r=ih(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iR(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),n(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:r=!1,dragElastic:s=.35,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:n,dragConstraints:r,dragElastic:s,dragMomentum:o}}}function i1(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class i2 extends ia{constructor(e){super(e),this.removeGroupControls=p,this.removeListeners=p,this.controls=new i0(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||p}unmount(){this.removeGroupControls(),this.removeListeners()}}let i3=e=>(t,i)=>{e&&f.postRender(()=>e(t,i))};class i5 extends ia{constructor(){super(...arguments),this.removePointerDownListener=p}onPointerDown(e){this.session=new iU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iB(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:i3(e),onStart:i3(t),onMove:i,onEnd:(e,t)=>{delete this.session,n&&f.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=ig(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var i6,i8,i4,i9=i(7437),i7=i(2265),ne=i(8051),nt=i(8110);let ni=(0,i7.createContext)({}),nn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let ns={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!ec.test(e))return e;e=parseFloat(e)}let i=nr(e,t.target.x),n=nr(e,t.target.y);return`${i}% ${n}%`}},no={},{schedule:na,cancel:nl}=d(queueMicrotask,!1);class nu extends i7.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:n}=this.props,{projection:r}=e;!function(e){for(let t in e)no[t]=e[t],H(t)&&(no[t].isCSSVariable=!0)}(nh),r&&(t.group&&t.group.add(r),i&&i.register&&n&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),nn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:n,isPresent:r}=this.props,s=i.projection;return s&&(s.isPresent=r,n||e.layoutDependency!==t||void 0===t||e.isPresent!==r?s.willUpdate():this.safeToRemove(),e.isPresent===r||(r?s.promote():s.relegate()||f.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),na.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nc(e){let[t,i]=(0,ne.oO)(),n=(0,i7.useContext)(nt.p);return(0,i9.jsx)(nu,{...e,layoutGroup:n,switchLayoutGroup:(0,i7.useContext)(ni),isPresent:t,safeToRemove:i})}let nh={borderRadius:{...ns,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ns,borderTopRightRadius:ns,borderBottomLeftRadius:ns,borderBottomRightRadius:ns,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let n=ex.parse(e);if(n.length>5)return e;let r=ex.createTransformer(e),s="number"!=typeof n[0]?1:0,o=i.x.scale*t.x,a=i.y.scale*t.y;n[0+s]/=o,n[1+s]/=a;let l=eP(o,a,.5);return"number"==typeof n[2+s]&&(n[2+s]/=l),"number"==typeof n[3+s]&&(n[3+s]/=l),r(n)}}},nd=(e,t)=>e.depth-t.depth;class np{constructor(){this.children=[],this.isDirty=!1}add(e){b(this.children,e),this.isDirty=!0}remove(e){w(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nd),this.isDirty=!1,this.children.forEach(e)}}function nf(e){return P(e)?e.get():e}let nv=["TopLeft","TopRight","BottomLeft","BottomRight"],ng=nv.length,nm=e=>"string"==typeof e?parseFloat(e):e,ny=e=>"number"==typeof e||ec.test(e);function n_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let nb=nk(0,.5,ts),nw=nk(.5,.95,p);function nk(e,t,i){return n=>n<e?0:n>t?1:i(e1(e,t,n))}function nS(e,t){e.min=t.min,e.max=t.max}function nx(e,t){nS(e.x,t.x),nS(e.y,t.y)}function nE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nT(e,t,i,n,r){return e-=t,e=n+1/i*(e-n),void 0!==r&&(e=n+1/r*(e-n)),e}function nP(e,t,[i,n,r],s,o){!function(e,t=0,i=1,n=.5,r,s=e,o=e){if(eu.test(t)&&(t=parseFloat(t),t=eP(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let a=eP(s.min,s.max,n);e===s&&(a-=t),e.min=nT(e.min,t,i,a,r),e.max=nT(e.max,t,i,a,r)}(e,t[i],t[n],t[r],t.scale,s,o)}let nR=["x","scaleX","originX"],nF=["y","scaleY","originY"];function nA(e,t,i,n){nP(e.x,t,nR,i?i.x:void 0,n?n.x:void 0),nP(e.y,t,nF,i?i.y:void 0,n?n.y:void 0)}function nC(e){return 0===e.translate&&1===e.scale}function nI(e){return nC(e.x)&&nC(e.y)}function nM(e,t){return e.min===t.min&&e.max===t.max}function nD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nO(e,t){return nD(e.x,t.x)&&nD(e.y,t.y)}function nL(e){return iy(e.x)/iy(e.y)}function n$(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nV{constructor(){this.members=[]}add(e){b(this.members,e),e.scheduleRender()}remove(e){if(w(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:n}=e.options;!1===n&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let nj={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},nB=["","X","Y","Z"],nN={visibility:"hidden"},nq=0;function nU(e,t,i,n){let{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function nH({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(e={},i=t?.()){this.id=nq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,c.value&&(nj.nodes=nj.calculatedTargetDeltas=nj.calculatedProjections=0),this.nodes.forEach(nG),this.nodes.forEach(n0),this.nodes.forEach(n1),this.nodes.forEach(nY),c.addProjectionMetrics&&c.addProjectionMetrics(nj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new np)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new k),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:n,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(r||n)&&(this.isLayoutDirty=!0),e){let i;let n=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(e,t){let i=_.now(),n=({timestamp:t})=>{let r=t-i;r>=250&&(v(n),e(r-250))};return f.setup(n,!0),()=>v(n)}(n,0),nn.hasAnimatedSinceResize&&(nn.hasAnimatedSinceResize=!1,this.nodes.forEach(nJ))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&s&&(n||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let r=this.options.transition||s.getDefaultTransition()||n4,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=s.getProps(),l=!this.targetLayout||!nO(this.targetLayout,n),u=!t&&i;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...j(r,"layout"),onPlay:o,onComplete:a};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||nJ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,v(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n2),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let n=i.props[A];if(window.MotionHasOptimisedAnimation(n,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",f,!(e||i))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nK);return}this.isUpdating||this.nodes.forEach(nZ),this.isUpdating=!1,this.nodes.forEach(nQ),this.nodes.forEach(nz),this.nodes.forEach(nW),this.clearAllSnapshots();let e=_.now();g.delta=Y(0,1e3/60,e-g.timestamp),g.timestamp=e,g.isProcessing=!0,m.update.process(g),m.preRender.process(g),m.render.process(g),g.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,na.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nX),this.sharedNodes.forEach(n3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,f.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){f.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||iy(this.snapshot.measuredBox.x)||iy(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=iP(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!nI(this.projectionDelta),i=this.getTransformTemplate(),n=i?i(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&(t||iC(this.latestValues)||s)&&(r(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),n=this.removeElementScroll(i);return e&&(n=this.removeTransform(n)),re((t=n).x),re(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return iP();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ri))){let{scroll:e}=this.root;e&&(iL(t.x,e.offset.x),iL(t.y,e.offset.y))}return t}removeElementScroll(e){let t=iP();if(nx(t,e),this.scroll?.wasRoot)return t;for(let i=0;i<this.path.length;i++){let n=this.path[i],{scroll:r,options:s}=n;n!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&nx(t,e),iL(t.x,r.offset.x),iL(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let i=iP();nx(i,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&iV(i,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),iC(n.latestValues)&&iV(i,n.latestValues)}return iC(this.latestValues)&&iV(i,this.latestValues),i}removeTransform(e){let t=iP();nx(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!iC(i.latestValues))continue;iA(i.latestValues)&&i.updateSnapshot();let n=iP();nx(n,i.measurePageBox()),nA(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,n)}return iC(this.latestValues)&&nA(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==g.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==t;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:n,layoutId:r}=this.options;if(this.layout&&(n||r)){if(this.resolvedRelativeTargetAt=g.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iP(),this.relativeTargetOrigin=iP(),iS(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),nx(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=iP(),this.targetWithTransforms=iP()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var s,o,a;this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,a=this.relativeParent.target,iw(s.x,o.x,a.x),iw(s.y,o.y,a.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nx(this.target,this.layout.layoutBox),iO(this.target,this.targetDelta)):nx(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iP(),this.relativeTargetOrigin=iP(),iS(this.relativeTargetOrigin,this.target,e.target),nx(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}c.value&&nj.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||iA(this.parent.latestValues)||iI(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(i=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===g.timestamp&&(i=!1),i)return;let{layout:n,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||r))return;nx(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,o=this.treeScale.y;!function(e,t,i,n=!1){let r,s;let o=i.length;if(o){t.x=t.y=1;for(let a=0;a<o;a++){s=(r=i[a]).projectionDelta;let{visualElement:o}=r.options;(!o||!o.props.style||"contents"!==o.props.style.display)&&(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&iV(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,iO(e,s)),n&&iC(r.latestValues)&&iV(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=iP());let{target:a}=e;if(!a){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(nE(this.prevProjectionDelta.x,this.projectionDelta.x),nE(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ib(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&n$(this.projectionDelta.x,this.prevProjectionDelta.x)&&n$(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),c.value&&nj.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=iE(),this.projectionDelta=iE(),this.projectionDeltaWithTransform=iE()}setAnimationOrigin(e,t=!1){let i;let n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},o=iE();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=iP(),l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(n8));this.animationProgress=0,this.mixTargetDelta=t=>{let n=t/1e3;if(n5(o.x,e.x,n),n5(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f;iS(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,n6(p.x,f.x,a.x,n),n6(p.y,f.y,a.y,n),i&&(u=this.relativeTarget,d=i,nM(u.x,d.x)&&nM(u.y,d.y))&&(this.isProjectionDirty=!1),i||(i=iP()),nx(i,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,i,n,r,s){r?(e.opacity=eP(0,i.opacity??1,nb(n)),e.opacityExit=eP(t.opacity??1,0,nw(n))):s&&(e.opacity=eP(t.opacity??1,i.opacity??1,n));for(let r=0;r<ng;r++){let s=`border${nv[r]}Radius`,o=n_(t,s),a=n_(i,s);(void 0!==o||void 0!==a)&&(o||(o=0),a||(a=0),0===o||0===a||ny(o)===ny(a)?(e[s]=Math.max(eP(nm(o),nm(a),n),0),(eu.test(a)||eu.test(o))&&(e[s]+="%")):e[s]=a)}(t.rotate||i.rotate)&&(e.rotate=eP(t.rotate||0,i.rotate||0,n))}(s,r,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(v(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=f.update(()=>{nn.hasAnimatedSinceResize=!0,q.layout++,this.currentAnimation=function(e,t,i){let n=P(0)?0:T(0);return n.start(t2("",n,1e3,i)),n.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{q.layout--},onComplete:()=>{q.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:n,latestValues:r}=e;if(t&&i&&n){if(this!==e&&this.layout&&n&&rt(this.options.animationType,this.layout.layoutBox,n.layoutBox)){i=this.target||iP();let t=iy(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let n=iy(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+n}nx(t,i),iV(t,r),ib(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new nV),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let n=this.getStack();n&&n.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let n={};i.z&&nU("z",e,n,this.animationValues);for(let t=0;t<nB.length;t++)nU(`rotate${nB[t]}`,e,n,this.animationValues),nU(`skew${nB[t]}`,e,n,this.animationValues);for(let t in e.render(),n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nN;let t={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=nf(e?.pointerEvents)||"",t.transform=i?i(this.latestValues,""):"none",t;let n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=nf(e?.pointerEvents)||""),this.hasProjected&&!iC(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let r=n.animationValues||n.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,i){let n="",r=e.x.translate/t.x,s=e.y.translate/t.y,o=i?.z||0;if((r||s||o)&&(n=`translate3d(${r}px, ${s}px, ${o}px) `),(1!==t.x||1!==t.y)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:o,skewY:a}=i;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),r&&(n+=`rotateX(${r}deg) `),s&&(n+=`rotateY(${s}deg) `),o&&(n+=`skewX(${o}deg) `),a&&(n+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(n+=`scale(${a}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),i&&(t.transform=i(r,t.transform));let{x:s,y:o}=this.projectionDelta;for(let e in t.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,n.animationValues?t.opacity=n===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:t.opacity=n===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,no){if(void 0===r[e])continue;let{correct:i,applyTo:s,isCSSVariable:o}=no[e],a="none"===t.transform?r[e]:i(r[e],n);if(s){let e=s.length;for(let i=0;i<e;i++)t[s[i]]=a}else o?this.options.visualElement.renderState.vars[e]=a:t[e]=a}return this.options.layoutId&&(t.pointerEvents=n===this?nf(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(nK),this.root.sharedNodes.clear()}}}function nz(e){e.updateLayout()}function nW(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:i,measuredBox:n}=e.layout,{animationType:r}=e.options,s=t.source!==e.layout.source;"size"===r?iR(e=>{let n=s?t.measuredBox[e]:t.layoutBox[e],r=iy(n);n.min=i[e].min,n.max=n.min+r}):rt(r,t.layoutBox,i)&&iR(n=>{let r=s?t.measuredBox[n]:t.layoutBox[n],o=iy(i[n]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+o)});let o=iE();ib(o,i,t.layoutBox);let a=iE();s?ib(a,e.applyTransform(n,!0),t.measuredBox):ib(a,i,t.layoutBox);let l=!nI(o),u=!1;if(!e.resumeFrom){let n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:r,layout:s}=n;if(r&&s){let o=iP();iS(o,t.layoutBox,r.layoutBox);let a=iP();iS(a,i,s.layoutBox),nO(o,a)||(u=!0),n.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function nG(e){c.value&&nj.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nX(e){e.clearSnapshot()}function nK(e){e.clearMeasurements()}function nZ(e){e.isLayoutDirty=!1}function nQ(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nJ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function n0(e){e.resolveTargetDelta()}function n1(e){e.calcProjection()}function n2(e){e.resetSkewAndRotation()}function n3(e){e.removeLeadSnapshot()}function n5(e,t,i){e.translate=eP(t.translate,0,i),e.scale=eP(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function n6(e,t,i,n){e.min=eP(t.min,i.min,n),e.max=eP(t.max,i.max,n)}function n8(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let n4={duration:.45,ease:[.4,0,.1,1]},n9=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),n7=n9("applewebkit/")&&!n9("chrome/")?Math.round:p;function re(e){e.min=n7(e.min),e.max=n7(e.max)}function rt(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(nL(t)-nL(i)))}function ri(e){return e!==e.root&&e.scroll?.wasRoot}let rn=nH({attachResizeListener:(e,t)=>ih(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rr={current:void 0},rs=nH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rr.current){let e=new rn({});e.mount(window),e.setOptions({layoutScroll:!0}),rr.current=e}return rr.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function ro(e,t){let i=function(e,t,i){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,i=(void 0)??t.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),n=new AbortController;return[i,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function ra(e){return!("touch"===e.pointerType||iQ.x||iQ.y)}function rl(e,t,i){let{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===i);let r=n["onHover"+i];r&&f.postRender(()=>r(t,ip(t)))}class ru extends ia{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[n,r,s]=ro(e,i),o=e=>{if(!ra(e))return;let{target:i}=e,n=t(i,e);if("function"!=typeof n||!i)return;let s=e=>{ra(e)&&(n(e),i.removeEventListener("pointerleave",s))};i.addEventListener("pointerleave",s,r)};return n.forEach(e=>{e.addEventListener("pointerenter",o,r)}),s}(e,(e,t)=>(rl(this.node,t,"Start"),e=>rl(this.node,e,"End"))))}unmount(){}}class rc extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=e$(ih(this.node.current,"focus",()=>this.onFocus()),ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let rh=(e,t)=>!!t&&(e===t||rh(e,t.parentElement)),rd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),rp=new WeakSet;function rf(e){return t=>{"Enter"===t.key&&e(t)}}function rv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let rg=(e,t)=>{let i=e.currentTarget;if(!i)return;let n=rf(()=>{if(rp.has(i))return;rv(i,"down");let e=rf(()=>{rv(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>rv(i,"cancel"),t)});i.addEventListener("keydown",n,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",n),t)};function rm(e){return id(e)&&!(iQ.x||iQ.y)}function ry(e,t,i){let{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===i);let r=n["onTap"+("End"===i?"":i)];r&&f.postRender(()=>r(t,ip(t)))}class r_ extends ia{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[n,r,s]=ro(e,i),o=e=>{let n=e.currentTarget;if(!rm(e)||rp.has(n))return;rp.add(n);let s=t(n,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),rm(e)&&rp.has(n)&&(rp.delete(n),"function"==typeof s&&s(e,{success:t}))},a=e=>{o(e,n===window||n===document||i.useGlobalTarget||rh(n,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return n.forEach(e=>{(i.useGlobalTarget?window:e).addEventListener("pointerdown",o,r),e instanceof HTMLElement&&(e.addEventListener("focus",e=>rg(e,r)),rd.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}(e,(e,t)=>(ry(this.node,t,"Start"),(e,{success:t})=>ry(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let rb=new WeakMap,rw=new WeakMap,rk=e=>{let t=rb.get(e.target);t&&t(e)},rS=e=>{e.forEach(rk)},rx={some:0,all:1};class rE extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:n="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:"number"==typeof n?n:rx[n]};return function(e,t,i){let n=function({root:e,...t}){let i=e||document;rw.has(i)||rw.set(i,{});let n=rw.get(i),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(rS,{root:e,...t})),n[r]}(t);return rb.set(e,i),n.observe(e),()=>{rb.delete(e),n.unobserve(e)}}(this.node.current,s,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,r&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:n}=this.node.getProps(),s=t?i:n;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let rT=(0,i7.createContext)({strict:!1});var rP=i(9783);let rR=(0,i7.createContext)({});function rF(e){return r(e.animate)||ie.some(t=>t9(e[t]))}function rA(e){return!!(rF(e)||e.variants)}function rC(e){return Array.isArray(e)?e.join(" "):e}var rI=i(3966);let rM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rD={};for(let e in rM)rD[e]={isEnabled:t=>rM[e].some(e=>!!t[e])};let rO=Symbol.for("motionComponentSymbol");var rL=i(6638),r$=i(2283);function rV(e,{layout:t,layoutId:i}){return M.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!no[e]||"opacity"===e)}let rj=(e,t)=>t&&"number"==typeof e?t.transform(e):e,rB={...X,transform:Math.round},rN={borderWidth:ec,borderTopWidth:ec,borderRightWidth:ec,borderBottomWidth:ec,borderLeftWidth:ec,borderRadius:ec,radius:ec,borderTopLeftRadius:ec,borderTopRightRadius:ec,borderBottomRightRadius:ec,borderBottomLeftRadius:ec,width:ec,maxWidth:ec,height:ec,maxHeight:ec,top:ec,right:ec,bottom:ec,left:ec,padding:ec,paddingTop:ec,paddingRight:ec,paddingBottom:ec,paddingLeft:ec,margin:ec,marginTop:ec,marginRight:ec,marginBottom:ec,marginLeft:ec,backgroundPositionX:ec,backgroundPositionY:ec,rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:Z,scaleX:Z,scaleY:Z,scaleZ:Z,skew:el,skewX:el,skewY:el,distance:ec,translateX:ec,translateY:ec,translateZ:ec,x:ec,y:ec,z:ec,perspective:ec,transformPerspective:ec,opacity:K,originX:ep,originY:ep,originZ:ec,zIndex:rB,fillOpacity:K,strokeOpacity:K,numOctaves:rB},rq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rU=I.length;function rH(e,t,i){let{style:n,vars:r,transformOrigin:s}=e,o=!1,a=!1;for(let e in t){let i=t[e];if(M.has(e)){o=!0;continue}if(H(e)){r[e]=i;continue}{let t=rj(i,rN[e]);e.startsWith("origin")?(a=!0,s[e]=t):n[e]=t}}if(!t.transform&&(o||i?n.transform=function(e,t,i){let n="",r=!0;for(let s=0;s<rU;s++){let o=I[s],a=e[o];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a))||i){let e=rj(a,rN[o]);if(!l){r=!1;let t=rq[o]||o;n+=`${t}(${e}) `}i&&(t[o]=e)}}return n=n.trim(),i?n=i(t,r?"":n):r&&(n="none"),n}(t,e.transform,i):n.transform&&(n.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:i=0}=s;n.transformOrigin=`${e} ${t} ${i}`}}let rz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rW(e,t,i){for(let n in t)P(t[n])||rV(n,i)||(e[n]=t[n])}let rG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rY(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rG.has(e)}let rX=e=>!rY(e);try{(i6=require("@emotion/is-prop-valid").default)&&(rX=e=>e.startsWith("on")?!rY(e):i6(e))}catch{}let rK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rZ(e){if("string"!=typeof e||e.includes("-"));else if(rK.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let rQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},rJ={offset:"strokeDashoffset",array:"strokeDasharray"};function r0(e,{attrX:t,attrY:i,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,u){if(rH(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:h}=e;c.transform&&(h.transform=c.transform,delete c.transform),(h.transform||c.transformOrigin)&&(h.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),h.transform&&(h.transformBox="fill-box",delete c.transformBox),void 0!==t&&(c.x=t),void 0!==i&&(c.y=i),void 0!==n&&(c.scale=n),void 0!==r&&function(e,t,i=1,n=0,r=!0){e.pathLength=1;let s=r?rQ:rJ;e[s.offset]=ec.transform(-n);let o=ec.transform(t),a=ec.transform(i);e[s.array]=`${o} ${a}`}(c,r,s,o,!1)}let r1=()=>({...rz(),attrs:{}}),r2=e=>"string"==typeof e&&"svg"===e.toLowerCase();var r3=i(6938);let r5=e=>(t,i)=>{let n=(0,i7.useContext)(rR),s=(0,i7.useContext)(rL.O),a=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},i,n,s){return{latestValues:function(e,t,i,n){let s={},a=n(e,{});for(let e in a)s[e]=nf(a[e]);let{initial:l,animate:u}=e,c=rF(e),h=rA(e);t&&h&&!c&&!1!==e.inherit&&(void 0===l&&(l=t.initial),void 0===u&&(u=t.animate));let d=!!i&&!1===i.initial,p=(d=d||!1===l)?u:l;if(p&&"boolean"!=typeof p&&!r(p)){let t=Array.isArray(p)?p:[p];for(let i=0;i<t.length;i++){let n=o(e,t[i]);if(n){let{transitionEnd:e,transition:t,...i}=n;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(i,n,s,e),renderState:t()}})(e,t,n,s);return i?a():(0,r3.h)(a)};function r6(e,t,i){let{style:n}=e,r={};for(let s in n)(P(n[s])||t.style&&P(t.style[s])||rV(s,e)||i?.getValue(s)?.liveStyle!==void 0)&&(r[s]=n[s]);return r}let r8={useVisualState:r5({scrapeMotionValuesFromProps:r6,createRenderState:rz})};function r4(e,t,i){let n=r6(e,t,i);for(let i in e)(P(e[i])||P(t[i]))&&(n[-1!==I.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return n}let r9={useVisualState:r5({scrapeMotionValuesFromProps:r4,createRenderState:r1})},r7={current:null},se={current:!1},st=new WeakMap,si=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sn=e=>/^0[^.\s]+$/u.test(e),sr=e=>t=>t.test(e),ss=[X,ec,eu,el,ed,eh,{test:e=>"auto"===e,parse:e=>e}],so=e=>ss.find(sr(e)),sa=[...ss,ev,ex],sl=e=>sa.find(sr(e)),su=new Set(["brightness","contrast","saturate","opacity"]);function sc(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=i.match(J)||[];if(!n)return e;let r=i.replace(n,""),s=su.has(t)?1:0;return n!==i&&(s*=100),t+"("+s+r+")"}let sh=/\b([a-z-]*)\(.*?\)/gu,sd={...ex,getAnimatableNone:e=>{let t=e.match(sh);return t?t.map(sc).join(" "):e}},sp={...rN,color:ev,backgroundColor:ev,outlineColor:ev,fill:ev,stroke:ev,borderColor:ev,borderTopColor:ev,borderRightColor:ev,borderBottomColor:ev,borderLeftColor:ev,filter:sd,WebkitFilter:sd},sf=e=>sp[e];function sv(e,t){let i=sf(e);return i!==sd&&(i=ex),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sm{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:n,blockInitialAnimation:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=_.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,f.render(this.render,!1,!0))};let{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=rF(t),this.isVariantNode=rA(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in c){let t=c[e];void 0!==a[e]&&P(t)&&t.set(a[e],!1)}}mount(e){this.current=e,st.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),se.current||function(){if(se.current=!0,rI.j){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>r7.current=e.matches;e.addListener(t),t()}else r7.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||r7.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),v(this.notifyUpdate),v(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=M.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&f.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in rD){let t=rD[e];if(!t)continue;let{isEnabled:i,Feature:n}=t;if(!this.features[e]&&n&&i(this.props)&&(this.features[e]=new n(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):iP()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<sg.length;t++){let i=sg[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let n=e["on"+i];n&&(this.propEventSubscriptions[i]=this.on(i,n))}this.prevMotionValues=function(e,t,i){for(let n in t){let r=t[n],s=i[n];if(P(r))e.addValue(n,r);else if(P(s))e.addValue(n,T(r,{owner:e}));else if(s!==r){if(e.hasValue(n)){let t=e.getValue(n);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(n);e.addValue(n,T(void 0!==t?t:r,{owner:e}))}}}for(let n in i)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=T(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=i&&("string"==typeof i&&(si(i)||sn(i))?i=parseFloat(i):!sl(i)&&ex.test(t)&&(i=sv(e,t)),this.setBaseTarget(e,P(i)?i.get():i)),P(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t;let{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let n=o(this.props,i,this.presenceContext?.custom);n&&(t=n[e])}if(i&&void 0!==t)return t;let n=this.getBaseTargetFromProps(this.props,e);return void 0===n||P(n)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new k),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}let sy=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,s_=new Set(["auto","none","0"]);class sb extends tB{constructor(e,t,i,n,r){super(e,t,i,n,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let n=e[i];if("string"==typeof n&&W(n=n.trim())){let r=function e(t,i,n=1){eF(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[r,s]=function(e){let t=sy.exec(e);if(!t)return[,];let[,i,n,r]=t;return[`--${i??n}`,r]}(t);if(!r)return;let o=window.getComputedStyle(i).getPropertyValue(r);if(o){let e=o.trim();return si(e)?parseFloat(e):e}return W(s)?e(s,i,n+1):s}(n,t.current);void 0!==r&&(e[i]=r),i===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!t3.has(i)||2!==e.length)return;let[n,r]=e,s=so(n),o=so(r);if(s!==o){if(tA(s)&&tA(o))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++){var n;(null===e[t]||("number"==typeof(n=e[t])?0===n:null===n||"none"===n||"0"===n||sn(n)))&&i.push(t)}i.length&&function(e,t,i){let n,r=0;for(;r<e.length&&!n;){let t=e[r];"string"==typeof t&&!s_.has(t)&&eb(t).values.length&&(n=e[r]),r++}if(n&&i)for(let r of t)e[r]=sv(i,n)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tM[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let n=t[t.length-1];void 0!==n&&e.getValue(i,n).jump(n,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let n=e.getValue(t);n&&n.jump(this.measuredOrigin,!1);let r=i.length-1,s=i[r];i[r]=tM[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}class sw extends sm{constructor(){super(...arguments),this.KeyframeResolver=sb}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;P(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function sk(e,{style:t,vars:i},n,r){for(let s in Object.assign(e.style,t,r&&r.getProjectionStyles(n)),i)e.style.setProperty(s,i[s])}class sS extends sw{constructor(){super(...arguments),this.type="html",this.renderInstance=sk}readValueFromInstance(e,t){if(M.has(t))return tR(e,t);{let i=window.getComputedStyle(e),n=(H(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ij(e,t)}build(e,t,i){rH(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return r6(e,t,i)}}let sx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class sE extends sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=iP}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(M.has(t)){let e=sf(t);return e&&e.default||0}return t=sx.has(t)?t:F(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return r4(e,t,i)}build(e,t,i){r0(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,n){!function(e,t,i,n){for(let i in sk(e,t,void 0,n),t.attrs)e.setAttribute(sx.has(i)?i:F(i),t.attrs[i])}(e,t,0,n)}mount(e){this.isSVGTag=r2(e.tagName),super.mount(e)}}let sT=(i8={...{animation:{Feature:il},exit:{Feature:ic}},...{inView:{Feature:rE},tap:{Feature:r_},focus:{Feature:rc},hover:{Feature:ru}},...{pan:{Feature:i5},drag:{Feature:i2,ProjectionNode:rs,MeasureLayout:nc}},...{layout:{ProjectionNode:rs,MeasureLayout:nc}}},i4=(e,t)=>rZ(e)?new sE(t):new sS(t,{allowProjection:e!==i7.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function(e){var t,i;let{preloadedFeatures:n,createVisualElement:r,useRender:s,useVisualState:o,Component:a}=e;function l(e,t){var i;let n;let l={...(0,i7.useContext)(rP._),...e,layoutId:function(e){let{layoutId:t}=e,i=(0,i7.useContext)(nt.p).id;return i&&void 0!==t?i+"-"+t:t}(e)},{isStatic:u}=l,c=function(e){let{initial:t,animate:i}=function(e,t){if(rF(e)){let{initial:t,animate:i}=e;return{initial:!1===t||t9(t)?t:void 0,animate:t9(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,i7.useContext)(rR));return(0,i7.useMemo)(()=>({initial:t,animate:i}),[rC(t),rC(i)])}(e),h=o(e,u);if(!u&&rI.j){(0,i7.useContext)(rT).strict;let e=function(e){let{drag:t,layout:i}=rD;if(!t&&!i)return{};let n={...t,...i};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==i?void 0:i.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);n=e.MeasureLayout,c.visualElement=function(e,t,i,n,r){let{visualElement:s}=(0,i7.useContext)(rR),o=(0,i7.useContext)(rT),a=(0,i7.useContext)(rL.O),l=(0,i7.useContext)(rP._).reducedMotion,u=(0,i7.useRef)(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:i,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));let c=u.current,h=(0,i7.useContext)(ni);c&&!c.projection&&r&&("html"===c.type||"svg"===c.type)&&function(e,t,i,n){let{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&iN(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}(u.current,i,r,h);let d=(0,i7.useRef)(!1);(0,i7.useInsertionEffect)(()=>{c&&d.current&&c.update(i,a)});let p=i[A],f=(0,i7.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return(0,r$.L)(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),na.render(c.render),f.current&&c.animationState&&c.animationState.animateChanges())}),(0,i7.useEffect)(()=>{c&&(!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),f.current=!1))}),c}(a,h,l,r,e.ProjectionNode)}return(0,i9.jsxs)(rR.Provider,{value:c,children:[n&&c.visualElement?(0,i9.jsx)(n,{visualElement:c.visualElement,...l}):null,s(a,e,(i=c.visualElement,(0,i7.useCallback)(e=>{e&&h.onMount&&h.onMount(e),i&&(e?i.mount(e):i.unmount()),t&&("function"==typeof t?t(e):iN(t)&&(t.current=e))},[i])),h,u,c.visualElement)]})}n&&function(e){for(let t in e)rD[t]={...rD[t],...e[t]}}(n),l.displayName="motion.".concat("string"==typeof a?a:"create(".concat(null!==(i=null!==(t=a.displayName)&&void 0!==t?t:a.name)&&void 0!==i?i:"",")"));let u=(0,i7.forwardRef)(l);return u[rO]=a,u}({...rZ(e)?r9:r8,preloadedFeatures:i8,useRender:function(e=!1){return(t,i,n,{latestValues:r},s)=>{let o=(rZ(t)?function(e,t,i,n){let r=(0,i7.useMemo)(()=>{let i=r1();return r0(i,t,r2(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};rW(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let i={},n=function(e,t){let i=e.style||{},n={};return rW(n,i,e),Object.assign(n,function({transformTemplate:e},t){return(0,i7.useMemo)(()=>{let i=rz();return rH(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),n}(e,t);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=n,i})(i,r,s,t),a=function(e,t,i){let n={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(rX(r)||!0===i&&rY(r)||!t&&!rY(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}(i,"string"==typeof t,e),l=t!==i7.Fragment?{...a,...o,ref:n}:{},{children:u}=i,c=(0,i7.useMemo)(()=>P(u)?u.get():u,[u]);return(0,i7.createElement)(t,{...l,children:c})}}(t),createVisualElement:i4,Component:e})})("div")},3966:function(e,t,i){"use strict";i.d(t,{j:function(){return n}});let n="undefined"!=typeof window},6938:function(e,t,i){"use strict";i.d(t,{h:function(){return r}});var n=i(2265);function r(e){let t=(0,n.useRef)(null);return null===t.current&&(t.current=e()),t.current}},2283:function(e,t,i){"use strict";i.d(t,{L:function(){return r}});var n=i(2265);let r=i(3966).j?n.useLayoutEffect:n.useEffect}}]);